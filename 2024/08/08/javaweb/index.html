<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="JavaWeb, HTML,CSS,JavaScript,JQuery,React,Vue.js等">
    <meta name="description" content="JavaWeb">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>JavaWeb | Lusy</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/loading.css">
    <link rel="stylesheet" type="text/css" href="/libs/prism/prism.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcdn.net/ajax/libs/prism/1.9.0/plugins/line-numbers/prism-line-numbers.css">
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>


<body>
    
    <div id="loading-box">
      <div class="loading-left-bg"></div>
      <div class="loading-right-bg"></div>
      <div class="spinner-box">
        <div class="configure-border-1">
          <div class="configure-core"></div>
        </div>
        <div class="configure-border-2">
          <div class="configure-core"></div>
        </div>
        <div class="loading-word">加载中...</div>
      </div>
    </div>
    <!-- 页面加载动画 -->
    <script>
      $(document).ready(function () {
        document.body.style.overflow = 'auto';
        document.getElementById('loading-box').classList.add("loaded")
      })
    </script>
  
  
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Lusy</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>历程</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友链</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>知悉</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>微语</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Lusy</div>
        <div class="logo-desc">
            
            专注于Web,分享生活,分享知识
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			历程
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友链
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			知悉
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			微语
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/lusy37" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/lusy37" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/cover/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JavaWeb</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">
                                <span class="chip bg-color">学习总结</span>
                            </a>
                        
                            <a href="/tags/JavaWeb/">
                                <span class="chip bg-color">JavaWeb</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2024-08-08
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="fa fa-history fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-08-31
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    29.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    117 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="javaweb学习"><a class="markdownIt-Anchor" href="#javaweb学习"></a> JavaWeb学习</h1>
<h2 id="1初识web前端"><a class="markdownIt-Anchor" href="#1初识web前端"></a> 1.初识web前端</h2>
<p><strong>Web标准</strong><br />
Web标准也称为网页标准，由一系列的标准组成，大部分由W3C（World Wide Web Consortium，万维网联盟）组织制定。</p>
<ul>
<li>三个组成部分：
<ul>
<li><strong>HTML</strong>：负责<strong>网页的结构</strong>（页面元素和内容）</li>
<li><strong>CSS</strong>：负责<strong>页面的表现</strong>（页面元素的外观，位置等页面样式，如：颜色、大小等）</li>
<li><strong>JavaScript</strong>：负责<strong>页面的行为</strong>（页面元素的交互，如：鼠标点击、滑动等）</li>
</ul>
</li>
</ul>
<h3 id="11-html"><a class="markdownIt-Anchor" href="#11-html"></a> 1.1 HTML</h3>
<p>HTML（HyperText Markup Language）：超文本标记语言。</p>
<ul>
<li><strong>超文本</strong>：超越了文本的限制，比普通文本更强大。除了文字信息，还可以定义图片、音频、视频等内容。</li>
<li><strong>标记语言</strong>：由标签构成的语言。
<ul>
<li>HTML标签都是<strong>预定义</strong>好的。例如：使用&lt;a&gt;展示超链接，使用&lt;img&gt;展示图片、&lt;video&gt;展示视频等。</li>
<li>HTML代码直接在浏览器中运行，HTML标签由浏览器解析。</li>
</ul>
</li>
</ul>
<p><strong>HTML结构标签</strong>：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 这里设置了HTML文档的基本结构，包括文档类型、语言、字符编码和视口设置 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 这里是网页的主体部分，内容将显示在这里 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>语言特点</strong>：</p>
<ul>
<li>HTML标签不区分大小写</li>
<li>HTML标签属性值单双引号都可以</li>
<li>HTML语法松散</li>
<li>在HTML中无论输入多少个空格，只会显示一个，可以使用空格占位符：<code>&amp;nbsp;</code></li>
</ul>
<h4 id="111-标题标签"><a class="markdownIt-Anchor" href="#111-标题标签"></a> 1.1.1 标题标签</h4>
<ul>
<li><strong>标签</strong>：&lt;h1&gt;…&lt;h1&gt; (h1 -&gt; h6 重要程度依次降低)</li>
<li><strong>示例</strong>：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>标题1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>标题2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>标题3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="112-水平线标签"><a class="markdownIt-Anchor" href="#112-水平线标签"></a> 1.1.2 水平线标签</h4>
<ul>
<li><strong>标签</strong>：&lt;hr&gt;</li>
</ul>
<h4 id="113-换行标签"><a class="markdownIt-Anchor" href="#113-换行标签"></a> 1.1.3 换行标签</h4>
<ul>
<li><strong>标签</strong>：&lt;br&gt;</li>
</ul>
<h4 id="114-段落标签"><a class="markdownIt-Anchor" href="#114-段落标签"></a> 1.1.4 段落标签</h4>
<ul>
<li><strong>标签</strong>：&lt;p&gt;…&lt;p&gt;</li>
</ul>
<h4 id="115-文本加粗标签"><a class="markdownIt-Anchor" href="#115-文本加粗标签"></a> 1.1.5 文本加粗标签</h4>
<ul>
<li><strong>标签</strong>：&lt;b&gt;…&lt;/b&gt; 或者 &lt;strong&gt;…&lt;/strong&gt;</li>
</ul>
<h4 id="116-图片标签"><a class="markdownIt-Anchor" href="#116-图片标签"></a> 1.1.6 图片标签</h4>
<ul>
<li><strong>标签</strong>：&lt;img src=“图片路径” width=“宽度” height=“高度” alt=“替代文本”&gt;
<ul>
<li><code>src</code>：指定图像的路径url（绝对路径/相对路径）</li>
<li><code>width</code>：指定图像的宽度（像素/相对于父元素的百分比）</li>
<li><code>height</code>：指定图像的高度（像素/相对于父元素的百分比）</li>
<li><code>alt</code>：指定图像的替代文本<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808220223.png" alt="" /></li>
</ul>
</li>
</ul>
<h4 id="117-视频标签"><a class="markdownIt-Anchor" href="#117-视频标签"></a> 1.1.7 视频标签</h4>
<ul>
<li><strong>标签</strong>：&lt;video src=“视频路径” controls width=“宽度” height=“高度”&gt;
<ul>
<li><code>src</code>：指定视频文件的路径url（绝对路径/相对路径）</li>
<li><code>controls</code>：指定是否显示播放控件</li>
<li><code>width</code>：指定视频的宽度（像素/相对于父元素的百分比）</li>
<li><code>height</code>：指定视频的高度（像素/相对于父元素的百分比）</li>
</ul>
</li>
</ul>
<h4 id="118-音频标签"><a class="markdownIt-Anchor" href="#118-音频标签"></a> 1.1.8 音频标签</h4>
<ul>
<li><strong>标签</strong>：&lt;audio src=“音频路径” controls&gt;
<ul>
<li><code>src</code>：指定音频文件的路径url（绝对路径/相对路径）</li>
<li><code>controls</code>：指定是否显示播放控件</li>
</ul>
</li>
</ul>
<h4 id="119-超链接标签"><a class="markdownIt-Anchor" href="#119-超链接标签"></a> 1.1.9 超链接标签</h4>
<ul>
<li><strong>标签</strong>：&lt;a href=“链接地址” target=“…”&gt;链接文本&lt;/a&gt;
<ul>
<li><code>href</code>：指定链接地址url（绝对路径/相对路径）</li>
<li><code>target</code>：指定链接打开方式（_self：默认值，当前窗口打开；_blank：新窗口打开）</li>
</ul>
</li>
</ul>
<h4 id="1110-布局标签"><a class="markdownIt-Anchor" href="#1110-布局标签"></a> 1.1.10 布局标签</h4>
<p>实际开发网页中，会大量频繁的使用div和span这两个没有<strong>语义</strong>的布局标签。</p>
<ul>
<li><strong>标签</strong>：&lt;div&gt;…&lt;/div&gt; 或者 &lt;span&gt;…&lt;/span&gt;</li>
<li><strong>特点</strong>：
<ul>
<li><code>div标签</code>:
<ul>
<li>一行只显示一个（独占一行）</li>
<li>宽度默认是父元素的宽度，高度默认由内容撑开</li>
<li>可以设置宽高（width、height）</li>
</ul>
</li>
<li><code>span标签</code>：
<ul>
<li>一行可以显示多个（不独占一行）</li>
<li>宽度和高度默认由内容撑开</li>
<li>可以设置宽高（width、height）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="1111-表格标签"><a class="markdownIt-Anchor" href="#1111-表格标签"></a> 1.1.11 表格标签</h4>
<ul>
<li><strong>标签</strong>：
<ul>
<li>&lt;table&gt;…&lt;/table&gt;：定义表格</li>
<li>&lt;tr&gt;…&lt;/tr&gt;：定义表格中的行，一个&lt;tr&gt;表示一行</li>
<li>&lt;th&gt;…&lt;/th&gt;：表示表头单元格，具有加粗居中效果</li>
<li>&lt;td&gt;…&lt;/td&gt;：表示普通单元格</li>
</ul>
</li>
<li><strong>场景</strong>：在网页中以表格（行、列）形式整齐展示数据，如：班级表。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808222416.png" alt="" /></li>
</ul>
<h4 id="1112-表单标签"><a class="markdownIt-Anchor" href="#1112-表单标签"></a> 1.1.12 表单标签</h4>
<ul>
<li><strong>标签</strong>：&lt;form action=“提交地址” method=“提交方式”&gt;
<ul>
<li><code>action</code>：指定表单提交的地址url（绝对路径/相对路径）</li>
<li><code>method</code>：指定表单提交的方式（get/post）
<ul>
<li><code>get</code>：表单数据拼接在url后面，大小有限制。eg：?username=java</li>
<li><code>post</code>：表单数据放在请求体中，大小无限制。eg：username=java</li>
</ul>
</li>
</ul>
</li>
<li><strong>表单项</strong>：
<ul>
<li><code>&lt;input type=&quot;…&quot;&gt;</code>：定义表单项，通过type属性控制输入形式</li>
<li><code>&lt;select&gt;…&lt;/select&gt;</code>：定义下拉列表，&lt;option&gt;定义列表项</li>
<li><code>&lt;textarea&gt;…&lt;/textarea&gt;</code>：定义多行文本输入框<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808223456.png" alt="" /></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意</strong>：表单项必须有name属性才可以提交。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808224516.png" alt="" /></p>
</blockquote>
<h3 id="12-css"><a class="markdownIt-Anchor" href="#12-css"></a> 1.2 CSS</h3>
<p>CSS（Cascading Style Sheets）：层叠样式表，用于控制页面的样式（表现）。</p>
<h4 id="121-盒子模型"><a class="markdownIt-Anchor" href="#121-盒子模型"></a> 1.2.1 盒子模型</h4>
<ul>
<li><strong>盒子</strong>：页面中的所有元素（标签），都可以看做是一个<span style="color: red;"><strong>盒子</strong></span>，由盒子将页面中的元素包含在一个矩形区域内，通过盒子的视角更方便的进行页面布局</li>
<li><strong>盒子模型</strong>：盒子由<span style="color: red;"><strong>内容区域（content）</strong>、<strong>内边距区域（padding）</strong>、<strong>边框区域（border）</strong>、<strong>外边距区域（margin）</strong></span>组成。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808230724.png" alt="" /></li>
<li><strong>属性</strong>：
<ul>
<li><code>width</code>：设置盒子的宽度</li>
<li><code>height</code>：设置盒子的高度</li>
<li><code>border</code>：设置盒子的边框属性，如：border: 1px solid red/#000/……;</li>
<li><code>padding</code>：设置盒子的内边距</li>
<li><code>margin</code>：设置盒子的外边距</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意</strong>：如果只需要设置某一个方位的边框、内边距、外边距，可以在属性名后加上 -位置，如：border-top、padding-left、margin-right。</p>
</blockquote>
<h4 id="122-css引入方式"><a class="markdownIt-Anchor" href="#122-css引入方式"></a> 1.2.2 CSS引入方式</h4>
<ul>
<li><strong>行内样式</strong>：写在标签的style属性中（不推荐）<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>内嵌模式</strong>：写在style标签中（可以写在页面任何位置，但通常约定写在head标签中）<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span> <span class="token punctuation">&#123;</span>
        &lt;--!属性名：属性值<span class="token punctuation">;</span>-->
        <span class="token property">xxx</span><span class="token punctuation">:</span> xxx<span class="token punctuation">;</span> 
        <span class="token property">xxx</span><span class="token punctuation">:</span> xxx<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>外联模式</strong>：写在外部一个单独的.css文件中（需要通过 link 标签在网页中引入）<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>css/style.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h4 id="123-css选择器"><a class="markdownIt-Anchor" href="#123-css选择器"></a> 1.2.3 CSS选择器</h4>
<ul>
<li>元素选择器：标签名 {…}</li>
<li>id选择器：#id属性值 {…}</li>
<li>类选择器：.class属性值 {…}<br />
<strong>优先级</strong>：id选择器 &gt; 类选择器 &gt; 元素选择器<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240808234246.png" alt="" /></li>
</ul>
<h4 id="124-css属性"><a class="markdownIt-Anchor" href="#124-css属性"></a> 1.2.4 CSS属性</h4>
<ul>
<li>
<p><strong>颜色和背景</strong></p>
<ul>
<li><code>color</code>：设置文本颜色。</li>
<li><code>background-color</code>：设置背景颜色。</li>
<li><code>background-image</code>：设置背景图片。</li>
<li><code>background-repeat</code>：设置背景图片的重复方式。</li>
<li><code>background-size</code>：设置背景图片的大小。</li>
</ul>
</li>
<li>
<p><strong>字体和文本</strong></p>
<ul>
<li><code>font-family</code>：设置字体系列。</li>
<li><code>font-size</code>：设置字体大小（记得加px）</li>
<li><code>font-weight</code>：设置字体粗细。</li>
<li><code>font-style</code>：设置字体样式（例如：italic）。</li>
<li><code>text-transform</code>：设置文本的大小写（uppercase, lowercase, capitalize）。</li>
<li><code>text-decoration</code>：设置文本的装饰（underline, overline, line-through, none）。</li>
<li><code>letter-spacing</code>：设置字母间距。</li>
<li><code>word-spacing</code>：设置单词间距。</li>
</ul>
</li>
<li>
<p><strong>边距和填充</strong></p>
<ul>
<li><code>margin</code>：设置外边距。</li>
<li><code>padding</code>：设置内边距。</li>
</ul>
</li>
<li>
<p><strong>边框</strong></p>
<ul>
<li><code>border</code>：设置边框。</li>
<li><code>border-width</code>：设置边框宽度。</li>
<li><code>border-style</code>：设置边框样式（solid, dashed, dotted）。</li>
<li><code>border-color</code>：设置边框颜色。</li>
<li><code>border-radius</code>：设置圆角边框。</li>
</ul>
</li>
<li>
<p><strong>布局</strong></p>
<ul>
<li><code>display</code>：设置元素的显示类型（block, inline, flex, grid, none）。</li>
<li><code>position</code>：设置元素的定位类型（static, relative, absolute, fixed, sticky）。</li>
<li><code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>：设置定位偏移。</li>
<li><code>z-index</code>：设置元素的堆叠顺序。</li>
<li><code>overflow</code>：设置溢出内容的处理方式（visible, hidden, scroll, auto）。</li>
</ul>
</li>
<li>
<p><strong>尺寸</strong></p>
<ul>
<li><code>width</code>：设置元素的宽度。</li>
<li><code>height</code>：设置元素的高度。</li>
<li><code>max-width</code>：设置元素的最大宽度。</li>
<li><code>max-height</code>：设置元素的最大高度。</li>
<li><code>min-width</code>：设置元素的最小宽度。</li>
<li><code>min-height</code>：设置元素的最小高度。</li>
</ul>
</li>
<li>
<p><strong>浮动和清除</strong></p>
<ul>
<li><code>float</code>：设置元素的浮动（left, right, none）。</li>
<li><code>clear</code>：设置浮动的清除（left, right, both, none）。</li>
</ul>
</li>
<li>
<p><strong>表格</strong></p>
<ul>
<li><code>border-collapse</code>：设置是否合并表格边框。</li>
<li><code>border-spacing</code>：设置表格单元之间的边框间距。</li>
<li><code>caption-side</code>：设置表格标题的位置（top, bottom）。</li>
<li><code>empty-cells</code>：设置是否显示空单元格（show, hide）。</li>
</ul>
</li>
<li>
<p><strong>其它</strong></p>
<ul>
<li><code>line-height</code>：设置行高</li>
<li><code>text-indent</code>：设置首行的缩进</li>
<li><code>text-align</code>：设置元素中文本的水平对齐方式（left/center/right/justify）</li>
</ul>
</li>
</ul>
<h3 id="13-javascript"><a class="markdownIt-Anchor" href="#13-javascript"></a> 1.3 JavaScript</h3>
<ul>
<li>JavaScript（简称：JS）是一门跨平台、面向对象的脚本语言。是用来控制网页行为的语言，它能使网页可交互。</li>
<li>JavaScript和Java是完全不同的语言，不论是概念还是设计，但是基础语法类似。</li>
<li>JavaScript在1995年由Brendan Eich发明，并于1997年成为ECMA标准。</li>
<li>ECMAScript 6（ES6）是最新的JavaScript版本。</li>
</ul>
<blockquote>
<p><strong>ECMA</strong>：ECMA国际（前身为欧洲计算机制造商协会），制定了标准化的脚本程序设计语言 ECMAScript，这种语言得到广泛应用。而JavaScript是遵守ECMAScript标准的脚本语言。</p>
</blockquote>
<h4 id="131-js引入方式"><a class="markdownIt-Anchor" href="#131-js引入方式"></a> 1.3.1 JS引入方式</h4>
<ul>
<li><strong>内部脚本</strong>：将JS代码定义在HTML页面中
<ul>
<li>JavaScript代码必须位于<code>&lt;script&gt;……&lt;/script&gt;</code>标签之间</li>
<li>在HTML文档中，可以在任意地方，放置任意数量的&lt;script&gt;标签</li>
<li>一般会把脚本置于&lt;body&gt;标签中，这样，脚本会在页面加载后执行，改善显示速度。</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>外部脚本</strong>：将JS代码定义在外部单独的JS文件中，然后引入到HTML页面中
<ul>
<li>外部JS文件中，只包含JS代码，不包含&lt;script&gt;标签,也不包含HTML代码</li>
<li>&lt;script&gt;标签不能自闭合</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js/demo.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// demo.js文件</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="132-基础语法"><a class="markdownIt-Anchor" href="#132-基础语法"></a> 1.3.2 基础语法</h4>
<p><strong>1.书写语法</strong>:</p>
<ul>
<li><strong>区分大小写</strong>：JavaScript区分大小写，变量名、函数名、关键字等必须使用正确的大小写。</li>
<li>每行结尾的分号可有可无</li>
<li><strong>注释</strong>：
<ul>
<li>单行注释：// 注释内容</li>
<li>多行注释：/* 注释内容 */</li>
</ul>
</li>
<li><strong>大括号表示代码块</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 判断</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">alter</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>2.输出语句</strong>：</p>
<ul>
<li>使用 <code>window.alert()</code> 函数输出警告框【window可以省略】</li>
<li>使用<code>document.write()</code> 函数输出到页面</li>
<li>使用 <code>console.log()</code> 函数输出到浏览器控制台</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 浏览器弹出警告框</span>

document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入HTML，在浏览器中显示</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello JavaScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 写入浏览器控制台</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>3.变量</strong>：</p>
<ul>
<li>JavaScript中用 <code>var</code> 关键字（variable的缩写）声明变量。
<ul>
<li>var 声明的变量在其所在的函数或全局范围内有效，具有<strong>函数作用域</strong>，而不是块级作用域。这意味着即使 var 声明在块（如 if 或 for 循环）内部，变量仍然在函数范围内或全局范围内有效。</li>
<li>var声明的变量可以被重复声明，这可能导致意外的行为，因此在现代JavaScript中通常不推荐使用。</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token comment">// 允许重复声明</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 "A"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>JavaScript是一门<strong>弱类型</strong>语言，变量<font color="red">可以存放不同类型的值</font>。<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token string">"张三"</span><span class="token punctuation">;</span><span class="token comment">// 变量 `a` 的类型从数字变成了字符串</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>变量名需要遵循如下规则：
<ul>
<li>组成字符可以是任何字母、下划线、$符号</li>
<li>不能以数字开头</li>
<li>建议使用驼峰命名</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意</strong>：</p>
<ul>
<li>ECMAScript 6（ES6）中，新增了<code>let</code>关键字来定义变量。它的作用类似于var，但是所声明的变量具有<strong>块级作用域</strong>，只在let关键字所在的代码块中有效，且不能重复声明。</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">// let b = 20; // 会抛出错误，因为 `b` 已经在同一块级作用域中声明过</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>ECMAScript 6（ES6）中，新增了<code>const</code>关键字，用来声明一个只读的常量，常量的值一旦声明就不能改变。<font color="red">【但是，const 并不意味着所引用的对象是不可变的。如果 const 引用的是一个对象（包括数组），对象的内容是可以改变的】</font></li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment">// c = 20; // 会抛出错误，因为 `c` 是常量</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"李四"</span><span class="token punctuation">;</span> <span class="token comment">// 允许改变对象内部属性的值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<p><strong>4.数据类型</strong>：<br />
JavaScript中的数据类型分为：<strong>原始类型</strong>和<strong>引用类型</strong>。</p>
<ul>
<li><strong>原始类型</strong>：
<ul>
<li><code>number</code>：表示数字类型，可以是整数、浮点数和 NaN（Not a Number）。</li>
<li><code>string</code>：表示字符串类型，单引号和双引号都可以。</li>
<li><code>boolean</code>：表示布尔类型，只能是 true 或 false。</li>
<li><code>null</code>：表示空值，表示一个空对象。</li>
<li><code>undefined</code>：表示未定义的值，表示一个未初始化的变量。</li>
</ul>
</li>
<li><strong>引用类型</strong>：
<ul>
<li><code>object</code>：用于存储键值对的集合。对象的键（属性）可以是字符串或符号，值可以是任何类型的数据，包括其它对象。</li>
<li><code>array</code>：用于存储有序列表的集合。数组的元素可以是任何类型的数据，包括其它数组。可以通过索引（从0开始）访问数组的元素。</li>
<li><code>function</code>：表示函数类型。函数在JavaScript中是&quot;一等公民&quot;，意味着函数可以作为变量的值，作为参数传递给其他函数，也可以作为返回值。</li>
<li>……</li>
</ul>
</li>
</ul>
<blockquote>
<p>使用<code>typeof</code>关键字可以获取变量的类型。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">alter</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<p><strong>5.运算符</strong>：</p>
<ul>
<li><strong>算术运算符</strong>：+，-，*，/，%，++，–</li>
<li><strong>赋值运算符</strong>：=，+=，-=，*=，/=，%=</li>
<li><strong>比较运算符</strong>：==，!=，<code>===</code>，<code>!==</code>，&gt;，&lt;，&gt;=，&lt;=</li>
<li><strong>逻辑运算符</strong>：&amp;&amp;，||，!</li>
<li><strong>三元运算符</strong>：条件表达式? true_value: false_value，</li>
</ul>
<blockquote><p><code>==</code>与<code>===</code>的区别：</p>
<ul>
<li><code>==</code>：比较两个值是否相等，忽略类型。【会进行类型转换】</li>
<li><code>===</code>：比较两个值是否相等，同时比较类型。【不会进行类型转换】</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token function">alter</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alter</span><span class="token punctuation">(</span>a <span class="token operator">===</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">alter</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>类型转换</strong>：</p>
<ul>
<li><strong>字符串类型转为数字</strong>：
<ul>
<li>将字符串面值转为数字。如果字面值不是数字，则返回NaN。</li>
</ul>
</li>
<li><strong>其它类型转为boolean</strong>：
<ul>
<li>Number：0和NAN为false，其它为true。</li>
<li>String：空字符串为false，其它为true。</li>
<li>Null和Undefined为false。</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>parseInt()</strong>：将字符串转为整数的函数。它的语法如下：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">parseInt</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span> radix<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>
<p><strong>string</strong>: 你想要解析的字符串。这个字符串的开头可以包含空格，但在遇到第一个无法转换为数字的字符时，<code>parseInt</code> 会停止解析并返回已经解析的部分。字符串中的非数字字符会导致解析停止。</p>
</li>
<li>
<p><strong>radix</strong>: 可选参数，表示进制数。它的值可以在 2 到 36 之间。如果不指定 <code>radix</code>，<code>parseInt</code> 会根据字符串的内容自动确定进制：</p>
<ul>
<li>如果字符串以 “0x” 或 “0X” 开头，<code>parseInt</code> 会将其视为 16 进制。</li>
<li>如果字符串以 “0” 开头，<code>parseInt</code> 会将其视为 8 进制（在老版本的 JavaScript 中，现代浏览器已经不再这么处理）。</li>
<li>否则，<code>parseInt</code> 会将其视为 10 进制。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"42"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 返回 42</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"101"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 返回 5 (二进制的 101 为十进制的 5)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"0xF"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 返回 15 (16 进制的 F 为十进制的 15)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 返回 8 (8 进制的 10 为十进制的 8)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 返回 10 (十进制的 10 为十进制的 10)</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"abc123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 返回 NaN (因为 "abc" 不是数字)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote><p><strong>注意事项</strong></p>
<ul>
<li>如果 <code>string</code> 的第一个字符无法转换为数字，那么 <code>parseInt</code> 将返回 <code>NaN</code>。</li>
<li><code>NaN</code> (Not a Number) 是 JavaScript 中表示一个非数字的特殊值。</li>
<li>你可以使用 <code>isNaN()</code> 函数来检查 <code>parseInt</code> 的返回值是否是 <code>NaN</code>。</li>
</ul>
</blockquote>
<p><strong>6.流程控制语句</strong>：</p>
<ul>
<li><strong>if…else</strong>：用于条件判断。</li>
<li><strong>switch</strong>：用于多分支判断。</li>
<li><strong>for</strong>：用于循环。</li>
<li><strong>while</strong>：用于循环。</li>
<li><strong>do…while</strong>：用于循环。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/jsref/jsref_statements.asp">参考官方文档</a></p>
<h4 id="133-js函数"><a class="markdownIt-Anchor" href="#133-js函数"></a> 1.3.3 JS函数</h4>
<ul>
<li><strong>介绍</strong>：函数（方法）是被设计为执行特定任务的代码块。</li>
<li><strong>定义</strong>：JavaScript 函数通过 <code>function</code> 关键字来定义。语法为：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方式一：</span>
<span class="token keyword">function</span> <span class="token function">functionName</span><span class="token punctuation">(</span><span class="token parameter">parameter1<span class="token punctuation">,</span> parameter2<span class="token punctuation">,</span> <span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 要执行的代码</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 方式二：</span>
<span class="token keyword">var</span> <span class="token function-variable function">functionName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">parameter1<span class="token punctuation">,</span> parameter2<span class="token punctuation">,</span> <span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 要执行的代码</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>注意</strong>：
<ul>
<li>形式参数不需要类型。因为JavaScript 是弱类型语言，参数类型由调用者决定。</li>
<li>函数可以返回值。如果函数没有返回值 或者 return 后没有跟随任何值，则返回 <code>undefined</code>。</li>
<li>返回值也不需要定义类型，可以在函数内部直接使用return返回值即可</li>
</ul>
</li>
<li><strong>调用</strong>：函数名称（实际参数列表）</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方式一：</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方式二：</span>
<span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意事项</strong>：<br />
JS中，函数调用可以传递任意个数的参数。<font color="red">但只会截取需要的前几个</font></p>
</blockquote>
<h4 id="134-js对象"><a class="markdownIt-Anchor" href="#134-js对象"></a> 1.3.4 JS对象</h4>
<p><strong>1.Array</strong></p>
<ul>
<li><strong>介绍</strong>：JavaScript 数组是一种特殊的对象，用于存储多个值。</li>
<li><strong>定义</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方式一：</span>
<span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>元素列表<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方式二：</span>
<span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token punctuation">[</span>元素列表<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>赋值/访问</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">arr<span class="token punctuation">[</span>索引<span class="token punctuation">]</span> <span class="token operator">=</span> 值<span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
<span class="token function">alter</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 警告框输出hello</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote><p><strong>注意事项</strong>：<br />
JavaScript 中的数组相当于 Java 中的集合，数组的长度是可变的，而JavaScript是弱类型，所以可以存储任意的类型的数据。</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>

arr<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"A"</span><span class="token punctuation">;</span>
arr<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote>
<ul>
<li><strong>属性</strong>：
<ul>
<li><strong><code>length</code></strong>：表示数组中元素的数量。你可以读取这个属性来获取数组的长度，也可以设置它来改变数组的长度。
<ul>
<li><strong>设置 <code>length</code></strong>：如果设置 <code>length</code> 为比当前长度小的值，数组将被截断。如果设置为更大的值，数组会用 <code>undefined</code> 填充新的位置。</li>
</ul>
</li>
</ul>
</li>
<li><strong>方法</strong>：
<ul>
<li><strong><code>toString()</code></strong>：将数组转换为字符串，元素之间用逗号分隔。</li>
<li><strong><code>join(separator)</code></strong>：将数组转换为字符串，元素之间用指定的 <code>separator</code> 分隔。如果不提供 <code>separator</code>，则使用逗号作为默认分隔符。</li>
<li><strong><code>forEach(callback)</code></strong>：对数组中的每个元素执行一次提供的函数 <code>callback</code>。<code>callback</code> 接受三个参数：当前元素值、当前元素的索引、整个数组。<code>forEach</code> 不会改变原数组。</li>
<li><strong><code>push(element1, ..., elementN)</code></strong>：将一个或多个新元素添加到数组的末尾，并返回数组的新长度。</li>
<li><strong><code>splice(start, deleteCount, item1, ..., itemN)</code></strong>：用于在数组中添加或删除元素。<code>start</code> 是开始位置的索引，<code>deleteCount</code> 指定要删除的元素数量，<code>item1, ..., itemN</code> 是要添加的新元素。这个方法会直接修改原数组，并返回被删除的元素。</li>
</ul>
</li>
</ul>
<p><strong>代码示例：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 创建一个数组</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// length 属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: 3</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: [1, 2, 3, undefined, undefined]</span>

<span class="token comment">// toString() 方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: "1,2,3,,"</span>

<span class="token comment">// join() 方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: "1-2-3--"</span>

<span class="token comment">// forEach() 方法</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Index </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>index<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>element<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 或者 console.log("Index " + index + ": " + element);</span>
  <span class="token comment">// $&#123;&#125; 是模板字符串（template literals）中的一种语法，用于在字符串中插入变量或表达式的值。模板字符串使用反引号（`）括起来，并允许在字符串中嵌入表达式。</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出:</span>
<span class="token comment">// Index 0: 1</span>
<span class="token comment">// Index 1: 2</span>
<span class="token comment">// Index 2: 3</span>
<span class="token comment">// Index 3: undefined</span>
<span class="token comment">// Index 4: undefined</span>

<span class="token comment">// push() 方法</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: [1, 2, 3, undefined, undefined, 6]</span>

<span class="token comment">// splice() 方法</span>
arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: [1, 2, "a", "b", undefined, 6]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>箭头函数(ES6)：是用来简化函数定义语法的，具体形式为：(……) =&gt; {…}，如果需要给箭头函数起名字：var func = (……) =&gt; {…}</p>
</blockquote>
<p><strong>2.String</strong></p>
<ul>
<li>
<p><strong>介绍</strong>：JavaScript 字符串是一种特殊类型的对象，用于存储和操作文本。</p>
</li>
<li>
<p><strong>定义</strong>：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方式一：</span>
<span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"……"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方式二：</span>
<span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token string">"……"</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>属性</strong>：</p>
<ul>
<li><strong><code>length</code></strong>：返回字符串的长度，表示字符串中字符的个数。</li>
</ul>
</li>
<li>
<p><strong>方法</strong>：</p>
<ul>
<li><strong><code>charAt(index)</code></strong>：返回指定位置的字符。<code>index</code> 从 0 开始计算。</li>
<li><strong><code>indexOf(substring)</code></strong>：返回子字符串在字符串中第一次出现的位置，如果没有找到，则返回 <code>-1</code>。</li>
<li><strong><code>trim()</code></strong>：去除字符串两边的空格（包括换行符和制表符）。</li>
<li><strong><code>substring(startIndex, endIndex)</code></strong>：提取字符串中从 <code>startIndex</code> 到 <code>endIndex</code> 之间的字符，<code>endIndex</code> 处的字符不包括在内。【包左不包右】</li>
</ul>
</li>
</ul>
<p><strong>代码示例：</strong></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// length 属性</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"Hello, world!"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: 13</span>

<span class="token comment">// charAt() 方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: "w"</span>

<span class="token comment">// indexOf() 方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: 7</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 输出: -1</span>

<span class="token comment">// trim() 方法</span>
<span class="token keyword">let</span> strWithSpaces <span class="token operator">=</span> <span class="token string">"   Hello, world!   "</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strWithSpaces<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: "Hello, world!"</span>

<span class="token comment">// substring() 方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: "Hello"</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: "world"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>3.自定义对象</strong></p>
<ul>
<li><strong>介绍</strong>：JavaScript 中的对象是一种复杂的数据类型，可以包含多个属性和方法。</li>
<li><strong>定义</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* var 对象名 = &#123;
    属性名1: 值1,
    属性名2: 值2,
    属性名3: 值3,
    函数名称：function(参数列表) &#123;&#125; ,可以省略"：function"
&#125;; */</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"Male"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>             <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Eating..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">==</span>      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Eating..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>                             <span class="token punctuation">&#125;</span>    
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>调用</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* 对象名.属性名;
对象名.方法名(); */</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>4.JSON</strong></p>
<ul>
<li><strong>介绍</strong>：
<ul>
<li>JSON是通过JavaScript对象标记法书写的文本。</li>
<li>JSON（JavaScript Object Notation）是一种轻量级的数据交换格式，主要用于在网络传输数据。</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">"Male"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810004428.png" alt="" /></li>
<li><strong>定义</strong>：<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token string">'&#123;"属性名1":"值1","属性名2":"值2","属性名3":"值3"&#125;'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token string">'&#123;"name":"John","age":30,"gender":"Male","addr":["北京","上海","广州"]&#125;'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
值的数据类型为：
<ul>
<li>数字（整数或浮点数）</li>
<li>字符串（在双引号中）</li>
<li>逻辑值（true 或 false）</li>
<li>数组（在方括号中）</li>
<li>对象（在花括号中）</li>
<li>null</li>
</ul>
</li>
<li><strong>方法</strong>：
<ul>
<li><strong><code>JSON.parse(json)</code></strong>：将 JSON 字符串转换为 JavaScript 对象。</li>
<li><strong><code>JSON.stringify(obj)</code></strong>：将 JavaScript 对象转换为 JSON 字符串。</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> jsObject <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsObject<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>5.BOM</strong></p>
<ul>
<li><strong>介绍</strong>：BOM（Browser Object Model）是浏览器对象模型的缩写，它提供了与浏览器窗口交互的接口。JavaScript 将浏览器的各个组成部分封装为对象。</li>
<li><strong>组成</strong>：
<ul>
<li><strong><code>Window</code></strong>：浏览器窗口对象</li>
<li><strong><code>Navigator</code></strong>：浏览器信息对象</li>
<li><strong><code>Screen</code></strong>：屏幕信息对象</li>
<li><strong><code>History</code></strong>：历史记录对象</li>
<li><strong><code>Location</code></strong>：地址栏对象</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810005713.png" alt="" /></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 获取</span>
window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello BOM"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello BOM Window"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 方法</span>
<span class="token comment">// confirm - 对话框 -- 确认: true，取消: false</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"您确认删除该记录吗？"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定时器 - setInterval -- 周期性地执行某个函数</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"定时器执行了"</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"次"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定时器 - setTimeout -- 延迟指定时间执行一次</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"JS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810005918.png" alt="" /></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// location</span>
<span class="token function">alter</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"https://www.baidu.com"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>6.DOM</strong><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810010120.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810010134.png" alt="" /></p>
<ul>
<li>HTML中的Element对象可以通过<code>Document</code>对象获取，而<code>Document</code>对象可以通过<code>window</code>对象获取。</li>
<li><code>Document</code>对象中提供了以下获取Element元素对象的函数：
<ul>
<li><strong><code>getElementById(id)</code></strong>：根据元素的id属性值获取元素对象，返回单个Element对象。</li>
<li><strong><code>getElementsByTagName(tagName)</code></strong>：根据元素的标签名获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li>
<li><strong><code>getElementsByName(name)</code></strong>：根据元素的name属性值获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li>
<li><strong><code>getElementsByClassName(className)</code></strong>：根据元素的class属性值获取元素对象，返回一个Element对象的<font color="red">数组</font>。</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 根据元素的id属性值</span>
<span class="token keyword">var</span> h1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据元素的标签名</span>
<span class="token keyword">var</span> divs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据元素的name属性值</span>
<span class="token keyword">var</span> hobbys <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">'hobby'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 根据元素的class属性值</span>
<span class="token keyword">var</span> clss <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'cls'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>7.事件监听</strong></p>
<ul>
<li><strong>介绍</strong>：JavaScript 事件是发生在 HTML 元素上的交互行为，如鼠标点击、键盘按键等。</li>
<li><strong>事件监听</strong>：JavaScript可以在事件被侦测到时<strong>执行代码</strong>。</li>
<li><strong>事件绑定</strong>：
<ul>
<li>方式一：通过HTML标签中的事件属性进行绑定</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"按钮被点击了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>方式二：通过DOM元素属性绑定</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>按钮<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"按钮被点击了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810011318.png" alt="" /></p>
<h3 id="14-vue"><a class="markdownIt-Anchor" href="#14-vue"></a> 1.4 Vue</h3>
<ul>
<li>Vue是一套<strong>前端框架</strong>，，免除原生JavaScript中的DOM操作，简化书写。</li>
<li>基于<strong>MVVM</strong>（Model-View-ViewModel）思想，实现数据的<strong>双向绑定</strong>，将编程的关注点放在数据上。</li>
<li>官网：<a target="_blank" rel="noopener" href="https://cn.vuejs.org/">https://cn.vuejs.org/</a><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810121232.png" alt="" /></li>
</ul>
<blockquote>
<p>框架：是一个半成品软件，是一套可重用的、通用的、软件基础代码模型。基于框架进行开发，更加快捷，高效。</p>
</blockquote>
<h4 id="141-快速入门"><a class="markdownIt-Anchor" href="#141-快速入门"></a> 1.4.1 快速入门</h4>
<ul>
<li>新建HTML文件，引入Vue.js文件：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>在JS代码区域，创建Vue核心对象，定义数据类型<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello Vue!'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>编写视图<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>&#123;&#123; message &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p><strong>插值表达式：</strong></p>
<ul>
<li><strong>形式</strong>：<code>&#123;&#123; 表达式 &#125;&#125;</code></li>
<li><strong>作用</strong>：将数据绑定到视图中</li>
<li><strong>内容</strong>：变量、三元运算符、函数调用 或 算术运算</li>
</ul>
</blockquote>
<h4 id="142-常用指令"><a class="markdownIt-Anchor" href="#142-常用指令"></a> 1.4.2 常用指令</h4>
<ul>
<li><strong>指令</strong>：HTML标签上带有<code>v-</code>前缀的特殊属性，不同指令具有不同含义。</li>
<li><strong>常用指令</strong>：</li>
</ul>
<table>
<thead>
<tr>
<th>指令</th>
<th>用途</th>
<th>语法</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>v-bind</code></td>
<td>动态地绑定一个或多个特性（attributes）到一个元素上，如设置href、css样式等</td>
<td><code>v-bind:attribute=&quot;expression&quot;</code> （简写：<code>:</code>）</td>
</tr>
<tr>
<td><code>v-model</code></td>
<td>创建一个双向数据绑定，通常用于表单元素</td>
<td><code>v-model=&quot;dataProperty&quot;</code></td>
</tr>
<tr>
<td><code>v-if</code></td>
<td>条件渲染，根据表达式的真假条件<code>有选择地渲染元素</code></td>
<td><code>v-if=&quot;condition&quot;</code></td>
</tr>
<tr>
<td><code>v-else-if</code></td>
<td>条件渲染，用于在 <code>v-if</code> 之外添加条件</td>
<td><code>v-else-if=&quot;condition&quot;</code></td>
</tr>
<tr>
<td><code>v-else</code></td>
<td>条件渲染，当所有 <code>v-if</code> 和 <code>v-else-if</code> 的条件都不满足时渲染元素</td>
<td><code>v-else</code></td>
</tr>
<tr>
<td><code>v-show</code></td>
<td>基于条件展示元素，<code>元素总是被渲染</code>，只是简单地控制元素的显示和隐藏（<code>display: none</code>）</td>
<td><code>v-show=&quot;condition&quot;</code></td>
</tr>
<tr>
<td><code>v-for</code></td>
<td>基于一个数组或对象的迭代渲染一个列表。对于数组，可以获取每个元素的值和下标；对于对象，可以获取每个键值对的键和值。</td>
<td><code>v-for=&quot;item in items&quot;</code></td>
</tr>
<tr>
<td><code>v-on</code></td>
<td>监听DOM事件，并在事件发生时执行指定的JavaScript表达式或方法</td>
<td><code>v-on:event=&quot;handler&quot;</code>（简写：<code>@</code>）</td>
</tr>
<tr>
<td><code>v-cloak</code></td>
<td>避免Vue实例接管模板前闪烁的内容（通常配合CSS使用）</td>
<td>无表达式</td>
</tr>
<tr>
<td><code>v-pre</code></td>
<td>跳过这个元素和它的所有子元素的编译过程，以加快初次渲染速度</td>
<td>无表达式</td>
</tr>
<tr>
<td><code>v-once</code></td>
<td>只渲染元素和组件一次，之后就不会再更新</td>
<td>无表达式</td>
</tr>
<tr>
<td><code>v-html</code></td>
<td>输出原始的HTML，不进行HTML转义（小心XSS攻击）</td>
<td><code>v-html=&quot;htmlContent&quot;</code></td>
</tr>
</tbody>
</table>
<p><strong>代码示例</strong></p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- v-bind 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- 简写 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-model 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Enter something<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-if / v-else-if / v-else 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age &lt;= 35<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>年轻人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age > 35 &amp;&amp; age &lt;= 60<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>中年人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>老年人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-show 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age &lt;= 35<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>年轻人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-for 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in items<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; item.text &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item,index) in items<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>&#123;&#123; index+1 &#125;&#125; : &#123;&#123;item&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-on 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- 简写 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>doSomething<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Button clicked!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- v-cloak 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">></span></span>
  &#123;&#123; message &#125;&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">[v-cloak]</span> <span class="token punctuation">&#123;</span> <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-pre 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-pre</span><span class="token punctuation">></span></span>&#123;&#123; raw &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-once 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-once</span><span class="token punctuation">></span></span>&#123;&#123; message &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- v-html 示例 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rawHtml<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>通过<code>v-bind</code>或者<code>v-model</code>绑定的变量，必须在数据模型中声明</li>
</ul>
</blockquote>
<h4 id="143-生命周期"><a class="markdownIt-Anchor" href="#143-生命周期"></a> 1.4.3 生命周期</h4>
<ul>
<li><strong>生命周期</strong>：指一个对象从创建到销毁的整个过程。</li>
<li><strong>八个阶段</strong>：每触发一个生命周期事件，会自动执行一个生命周期方法(钩子)。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810134011.png" alt="" /></li>
<li><strong>mounted</strong>：挂载完成，Vue初始化成功，HTML页面渲染成功。（发送请求到服务端，加载数据）<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810133326.png" alt="" /></li>
</ul>
<h3 id="15-ajax"><a class="markdownIt-Anchor" href="#15-ajax"></a> 1.5 Ajax</h3>
<ul>
<li>
<p><strong>概念</strong>：<code>Ajax</code> 是 <code>Asynchronous JavaScript and XML</code> 的缩写，表示异步的 JavaScript 和 XML。它是一种用于在不重新加载整个网页的情况下，进行数据交换并更新网页部分内容的技术。Ajax 通常利用 <code>XMLHttpRequest</code> 对象来发送和接收数据，但它并不仅限于 XML，现代应用中也常用 JSON 格式进行数据交换。</p>
</li>
<li>
<p><strong>作用</strong>：</p>
<ul>
<li><strong>数据交换</strong>：通过 Ajax 可以与服务器进行数据交互，发送请求并接收响应数据，而不需要刷新整个页面。</li>
<li><strong>异步交互</strong>：Ajax 允许网页在后台与服务器进行数据交换，从而在不刷新整个页面的情况下动态更新页面的部分内容。常见的应用场景包括：搜索联想、表单验证（如用户名是否可用）、自动加载更多内容等。</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153628.png" alt="" /></p>
<blockquote>
<p><strong>进一步说明</strong></p>
<ul>
<li>虽然 <code>Ajax</code> 中的 <code>XML</code> 表示可使用 XML 进行数据交换，但现代开发中更多使用 JSON 作为数据交换格式，因为 JSON 更轻量且更易于 JavaScript 解析。</li>
<li>Ajax 的核心是 <code>XMLHttpRequest</code> 对象，但在现代开发中，<code>fetch</code> API 也经常用来实现类似的异步数据交互功能。</li>
</ul>
</blockquote>
<ul>
<li>
<p><strong>异步VS同步</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153824.png" alt="" /></p>
</li>
<li>
<p><strong>Ajax请求流程</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810153934.png" alt="" /></p>
</li>
<li>
<p><strong>XMLHttpRequest对象属性</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810154050.png" alt="" /></p>
</li>
</ul>
<h3 id="16-axios"><a class="markdownIt-Anchor" href="#16-axios"></a> 1.6 Axios</h3>
<ul>
<li><strong>概念</strong>：Axios对原生的Ajax进行了封装，简化书写，快速开发。</li>
<li><strong>官网</strong>：<a target="_blank" rel="noopener" href="https://www.axios-http.cn/">https://www.axios-http.cn/</a></li>
<li><strong>请求方式别名</strong>：
<ul>
<li><code>axios.get(url [,config])</code></li>
<li><code>axios.delete(url [,config])</code></li>
<li><code>axios.post(url [,data[,config]])</code></li>
<li><code>axios.put(url [,data[,config]])</code></li>
</ul>
</li>
<li><strong>入门示例</strong>：
<ul>
<li><strong>1.引入Axios的js文件</strong></li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/axios/dist/axios.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><strong>2.使用Axios发送请求，并获取响应结果</strong></li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">axios.get("https://api.example.com/data").then((result) => &#123;
  console.log(result.data);
&#125;)// 处理响应结果

axios.post("https://api.example.com/data","id=1").then((result) => &#123;
  console.log(result.data);
&#125;)// 处理响应结果     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="17-vue项目"><a class="markdownIt-Anchor" href="#17-vue项目"></a> 1.7 Vue项目</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810155548.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810155629.png" alt="" /></p>
<h3 id="18-element组件"><a class="markdownIt-Anchor" href="#18-element组件"></a> 1.8 Element组件</h3>
<ul>
<li><strong>概念</strong>：是饿了么团队开发的，一套为开发者、设计师和产品经理准备的基于Vue2.0的桌面端组件库。</li>
<li><strong>组件</strong>：组成网页的部件，例如 超链接、按钮、图片、表格、表单、分页条等。</li>
<li><strong>官网</strong>：<a target="_blank" rel="noopener" href="https://element.eleme.cn/">https://element.eleme.cn/</a></li>
</ul>
<p><strong>快速入门</strong>：</p>
<ul>
<li>安装ElementUI组件库（在当前工程的目录下），在命令行执行指令：<pre class="line-numbers language-cmd" data-language="cmd"><code class="language-cmd">npm install element-ui@2.15.6 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>引入ElementUI组件库<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">// main.js文件中引入
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';

Vue.use(ElementUI);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>访问官网，复制组件代码并调整。</li>
</ul>
<h2 id="2maven"><a class="markdownIt-Anchor" href="#2maven"></a> 2.Maven</h2>
<h3 id="21-介绍"><a class="markdownIt-Anchor" href="#21-介绍"></a> 2.1 介绍</h3>
<ul>
<li><strong>概念</strong>：Apache Maven 是一个项目管理和构建工具，用于管理项目的构建、报告和文档。它基于项目对象模型（POM）的概念，通过一小段描述信息来管理项目的构建。</li>
<li><strong>作用</strong>：
<ul>
<li>方便的依赖管理</li>
<li>统一的项目结构</li>
<li>标准的项目构建流程</li>
</ul>
</li>
<li><strong>官网</strong>：<a target="_blank" rel="noopener" href="https://maven.apache.org/">https://maven.apache.org/</a></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810204935.png" alt="" /></p>
<h3 id="22-maven坐标"><a class="markdownIt-Anchor" href="#22-maven坐标"></a> 2.2 Maven坐标</h3>
<ul>
<li><strong>概念</strong>：
<ul>
<li>Maven中的坐标是<font color="red">资源的唯一标识，通过该坐标可以唯一定位资源位置</font>。</li>
<li>使用坐标来定义项目或者引入项目中需要的依赖。</li>
</ul>
</li>
<li><strong>主要组成</strong>：
<ul>
<li><strong><code>groupId</code></strong>：定义当前Maven项目隶属组织名称（通常是域名反写，例如：ink.lusy）</li>
<li><strong><code>artifactId</code></strong>：定义当前Maven项目名称（通常是模块名，例如：order-service、goods-service）</li>
<li><strong><code>version</code></strong>：定义当前Maven项目版本号（例如：1.0.0）</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>ink.lusy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-project01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="23-依赖配置"><a class="markdownIt-Anchor" href="#23-依赖配置"></a> 2.3 依赖配置</h3>
<ul>
<li><strong>依赖</strong>：指当前项目运行所需要的jar包，一个项目中可以引入多个依赖。</li>
<li><strong>配置</strong>：
<ul>
<li>在pom.xml文件中编写<code>&lt;dependencies&gt;</code>标签</li>
<li>在<code>&lt;dependencies&gt;</code>标签中使用<code>&lt;dependency&gt;</code>引入坐标</li>
<li>定义坐标的<code>groupId</code>、<code>artifactId</code>、<code>version</code></li>
<li>点击刷新按钮，引入最新加入的坐标<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810210505.png" alt="" /></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>如果引入的依赖，在本地仓库不存在，将会连接远程仓库/中央仓库，然后下载依赖。</li>
<li>如果不知道依赖的坐标信息，可以到<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a>中搜索。</li>
</ul>
</blockquote>
<h3 id="24-依赖传递"><a class="markdownIt-Anchor" href="#24-依赖传递"></a> 2.4 依赖传递</h3>
<ul>
<li><strong>依赖具有传递性</strong>
<ul>
<li><strong>直接依赖</strong>：在当前项目中通过依赖配置建立的依赖关系</li>
<li><strong>间接依赖</strong>：被依赖的资源如果依赖其它资源，当前项目间接依赖了被依赖的资源<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211620.png" alt="" /></li>
</ul>
</li>
<li><strong>依赖冲突</strong>：当依赖传递时，如果存在多个依赖，且依赖的版本号不同，则存在依赖冲突。<br />
当直接引用或者间接引用出现了相同的jar包! 这时呢，一个项目就会出现相同的重复jar包，这就算作冲突！依赖冲突避免出现重复依赖，并且终止依赖传递！<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240819174427.png" alt="" /><br />
maven自动解决依赖冲突问题能力，会按照自己的原则，进行重复依赖选择。同时也提供了手动解决的冲突的方式，不过不推荐！<br />
<strong>解决依赖冲突（如何选择重复依赖）方式：</strong>
<ul>
<li>短路优先原则（第一原则）<br />
A—&gt;B—&gt;C—&gt;D—&gt;E—&gt;X(version 0.0.1)<br />
A—&gt;F—&gt;X(version 0.0.2)<br />
则A依赖于X(version 0.0.2)。</li>
<li>依赖路径长度相同情况下，则“先声明优先”（第二原则）<br />
A—&gt;E—&gt;X(version 0.0.1)<br />
A—&gt;F—&gt;X(version 0.0.2)<br />
在&lt;depencies&gt;\……</depencies>中，先声明的，路径相同，会优先选择！</li>
</ul>
</li>
</ul>
<p><strong>小测试</strong>：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">前提：
   A 1.1 -> B 1.1 -> C 1.1 
   F 2.2 -> B 2.2 
   
pom声明：
   F 2.2
   A 1.1 
   B 2.2 
   C不会被引入<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>排除依赖</strong>：当依赖传递时，如果存在依赖冲突，可以通过<code>&lt;exclusions&gt;</code>标签，排除依赖。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211807.png" alt="" /></li>
<li><strong>依赖范围</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810211843.png" alt="" /></li>
</ul>
<h3 id="25-生命周期"><a class="markdownIt-Anchor" href="#25-生命周期"></a> 2.5 生命周期</h3>
<p>Maven的生命周期就是为了对所有的maven项目构建过程进行抽象和统一。<br />
Maven中有3套<font color="red">相互独立</font>的生命周期：</p>
<ul>
<li><strong>clean</strong>：清理项目</li>
<li><strong>default</strong>：核心工作，包含编译、测试、打包、部署等操作</li>
<li><strong>site</strong>：生成报告、发布站点等。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212415.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212739.png" alt="" /><br />
<strong>执行指定生命周期的两种方式</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240810212837.png" alt="" /></li>
</ul>
<h3 id="26-项目结构"><a class="markdownIt-Anchor" href="#26-项目结构"></a> 2.6 项目结构</h3>
<p>Maven 是一个强大的构建工具，它提供一种标准化的项目结构，可以帮助开发者更容易地管理项目的依赖、构建、测试和发布等任务。以下是 Maven Web 程序的文件结构及每个文件的作用：</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">|-- pom.xml                               # Maven 项目管理文件 
|-- src
    |-- main                              # 项目主要代码
    |   |-- java                          # Java 源代码目录
    |   |   `-- com/example/myapp         # 开发者代码主目录
    |   |       |-- controller            # 存放 Controller 层代码的目录
    |   |       |-- service               # 存放 Service 层代码的目录
    |   |       |-- dao                   # 存放 DAO 层代码的目录
    |   |       `-- model                 # 存放数据模型的目录
    |   |-- resources                     # 资源目录，存放配置文件、静态资源等
    |   |   |-- log4j.properties          # 日志配置文件
    |   |   |-- spring-mybatis.xml        # Spring Mybatis 配置文件
    |   |   `-- static                    # 存放静态资源的目录
    |   |       |-- css                   # 存放 CSS 文件的目录
    |   |       |-- js                    # 存放 JavaScript 文件的目录
    |   |       `-- images                # 存放图片资源的目录
    |   `-- webapp                        # 存放 WEB 相关配置和资源
    |       |-- WEB-INF                   # 存放 WEB 应用配置文件
    |       |   |-- web.xml               # Web 应用的部署描述文件
    |       |   `-- classes               # 存放编译后的 class 文件
    |       `-- index.html                # Web 应用入口页面
    `-- test                              # 项目测试代码
        |-- java                          # 单元测试目录
        `-- resources                     # 测试资源目录<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>pom.xml</strong>：Maven 项目管理文件，用于描述项目的依赖和构建配置等信息。</li>
<li><strong>src/main/java</strong>：存放项目的 Java 源代码。</li>
<li><strong>src/main/resources</strong>：存放项目的资源文件，如配置文件、静态资源等。</li>
<li><strong>src/main/webapp/WEB-INF</strong>：存放 Web 应用的配置文件。</li>
<li><strong>src/main/webapp/index.html</strong>：Web 应用的入口页面。</li>
<li><strong>src/test/java</strong>：存放项目的测试代码。</li>
<li><strong>src/test/resources</strong>：存放测试相关的资源文件，如测试配置文件等。</li>
</ul>
<h2 id="3http"><a class="markdownIt-Anchor" href="#3http"></a> 3.HTTP</h2>
<h3 id="31-概念"><a class="markdownIt-Anchor" href="#31-概念"></a> 3.1 概念</h3>
<p>HTTP（Hypertext Transfer Protocol，超文本传输协议）是一种用于传输超文本信息的协议。规定了浏览器和服务器之间数据传输的规则。</p>
<h3 id="32特点"><a class="markdownIt-Anchor" href="#32特点"></a> 3.2特点</h3>
<ul>
<li><strong>基于TCP协议</strong>：面向连接，安全。</li>
<li><strong>基于请求-响应模型</strong>：一次请求对应一次响应。</li>
<li><strong>无状态</strong>：对于事务处理没有记忆能力。每次请求-响应都独立的，没有保存信息。
<ul>
<li>缺点：多次请求间不能共享数据。</li>
<li>优点：速度快</li>
</ul>
</li>
</ul>
<h3 id="32-请求数据格式"><a class="markdownIt-Anchor" href="#32-请求数据格式"></a> 3.2 请求数据格式</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142141.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142211.png" alt="" /></p>
<h3 id="33响应数据格式"><a class="markdownIt-Anchor" href="#33响应数据格式"></a> 3.3响应数据格式</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142427.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811142452.png" alt="" /></p>
<p><strong>常见的响应状态码</strong></p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>英文描述</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>客户端请求成功。即<strong>处理成功</strong>，这是我们最想看到的状态码</td>
</tr>
<tr>
<td>302</td>
<td>Found</td>
<td>指示所请求的资源已移动到由<code>Location</code>响应头给定的 URL，浏览器会自动重新访问到这个页面</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
<td>告诉客户端，你请求的资源至上次取得后，服务器并未改。你直接用你本地缓存吧。隐式重定向</td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>客户端请求有<strong>语法错误</strong>，不能被服务器所理解</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>服务器收到请求，但是<strong>拒绝提供服务</strong>，比如：没有权限访问相关资源</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td><strong>请求资源不存在</strong>。一般是URL输入有误，或者网站资源被删除了</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>请求方法有误，比如本应用GET请求方式的资源，用了POST</td>
</tr>
<tr>
<td>428</td>
<td>Precondition Required</td>
<td><strong>服务器要求有条件的请求</strong>，告诉客户端需要访问该资源，必须携带特定的请求头</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
<td>用户在给定时间内发送了<strong>太多请求</strong>（“限速”），配合<code>Retry-After</code>（多长时间后可以请求）响应头一起使用</td>
</tr>
<tr>
<td>431</td>
<td>Request Header Fields Too Large</td>
<td><strong>请求头太大</strong>。服务器不愿意处理请求，因为它的头字段太大。请求可以在减少请求头域的大小后重新提交。</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td><strong>服务器发生不可预期的错误</strong>。服务器出异常了，赶紧看日志去吧</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td><strong>服务器尚未准备好处理请求</strong>。服务器刚启动，还未初始化好</td>
</tr>
</tbody>
</table>
<h3 id="34-接收请求头数据"><a class="markdownIt-Anchor" href="#34-接收请求头数据"></a> 3.4 接收请求头数据</h3>
<p>可以使用<b><code>@RequestHeader</code></b>注解将请求标头绑定到控制器中的方法参数。</p>
<p>请考虑以下带有标头的请求：</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">Host                    localhost:8080
Accept                  text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9
Accept-Language         fr,en-gb;q&#x3D;0.7,en;q&#x3D;0.3
Accept-Encoding         gzip,deflate
Accept-Charset          ISO-8859-1,utf-8;q&#x3D;0.7,*;q&#x3D;0.7
Keep-Alive              300<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面的示例获取 <code>Accept-Encoding</code> 和 <code>Keep-Alive</code> 标头的值：</p>
<pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">@GetMapping(&quot;&#x2F;demo&quot;)
public void handle(
  &#x2F;&#x2F; encoding: gzip,deflate
  &#x2F;&#x2F; keepAlive: 300
    @RequestHeader(&quot;Accept-Encoding&quot;) String encoding, 
    @RequestHeader(&quot;Keep-Alive&quot;) long keepAlive) &#123; 
  &#x2F;&#x2F;...
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4tomcat"><a class="markdownIt-Anchor" href="#4tomcat"></a> 4.Tomcat</h2>
<h3 id="41-概念"><a class="markdownIt-Anchor" href="#41-概念"></a> 4.1 概念</h3>
<ul>
<li>Tomcat是Apache软件基金会一个核心项目，是一个开源免费的轻量级Web服务器，支持Servlet/JSP和少量JavaEE规范。</li>
<li>Tomcat也称为Web容器、Servlet容器。Servlet程序需要tomcat才能运行。</li>
<li><a target="_blank" rel="noopener" href="https://tomcat.apache.org/">https://tomcat.apache.org/</a></li>
</ul>
<blockquote>
<p>JavaEE：Java企业级应用环境,指Java企业级开发的技术规范总和。包含13项技术规范：JDBC、JNDI、EJB、RMI、JSP、Servlet、XML、JMS、Java IDL、JTS、JTA、JavaMail、JAF</p>
</blockquote>
<h3 id="42-基本使用"><a class="markdownIt-Anchor" href="#42-基本使用"></a> 4.2 基本使用</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811144025.png" alt="" /></p>
<ul>
<li>配置Tomcat端口号 (conf/server.xml)</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>Connector <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">"8080"</span> <span class="token assign-left variable">protocol</span><span class="token operator">=</span><span class="token string">"HTTP/1.1"</span>
             <span class="token assign-left variable">connectionTimeout</span><span class="token operator">=</span><span class="token string">"20000"</span>
             <span class="token assign-left variable">redirectPort</span><span class="token operator">=</span><span class="token string">"8443"</span> /<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>HTTP协议默认端口号为80，如果将Tomcat端口号改为80，则将来访问Tomcat时，将不用输入端口号。</p>
</blockquote>
<ul>
<li>Tomcat部署项目：<br />
将项目放置到webapps目录下，即部署完成</li>
</ul>
<blockquote>
<p>基于SpringBoot开发的web应用程序，内置了Tomcat服务器，当启动类运行时，会自动启动内嵌的Tomcat服务器，无需手动配置。</p>
</blockquote>
<h2 id="5请求响应"><a class="markdownIt-Anchor" href="#5请求响应"></a> 5.请求响应</h2>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811145530.png" alt="" /></p>
<blockquote>
<p>请求响应：</p>
<ul>
<li>请求（HttpServletRequest）：获取请求数据</li>
<li>响应（HttpServletResponse）：设置响应数据<br />
<strong>BS架构</strong>：Browser-Server架构，浏览器向服务器发送请求，服务器处理请求，返回响应，浏览器接收响应，解析响应数据。客户端只需要浏览器，应用程序的逻辑和数据都存储在服务端。（维护方便 ，体验一般）<br />
<strong>CS架构</strong>：Client-Server架构，客户端向服务器发送请求，服务器处理请求，返回响应，客户端接收响应，解析响应数据。客户端需要浏览器和应用程序，应用程序的逻辑和数据都存储在客户端。（维护难，体验好）</li>
</ul>
</blockquote>
<h3 id="51-请求"><a class="markdownIt-Anchor" href="#51-请求"></a> 5.1 请求</h3>
<h4 id="511-简单参数"><a class="markdownIt-Anchor" href="#511-简单参数"></a> 5.1.1 简单参数</h4>
<ul>
<li><strong>原始方式</strong>：<br />
在原始的web程序中，获取请求参数，需要通过<code>HttpServletRequest</code>对象手动获取。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811180928.png" alt="" />
<blockquote>
<p>通过<code>HttpServletRequest</code>对象获取请求参数，需要通过<code>getParameter()</code>方法获取，且获取到的请求参数都是字符串类型，需要手动转换为其他类型。</p>
</blockquote>
</li>
<li><strong>SpringBoot方式</strong>
<ul>
<li><font color="red"><strong>参数名与形参变量名相同</strong></font>，定义形参即可接收参数,且会自动进行类型转换。【可以不传递，不会报错】<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811183255.png" alt="" /></li>
<li>如果方法形参名称与请求参数名称不匹配，可以使用<code>@RequestParam</code>注解，指定请求参数的名称。【默认情况下必须传递，否则会报错】<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811183613.png" alt="" /></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
<code>@RequestParam</code>中的<code>required</code>属性默认值为true，代表该请求参数必须传递，如果不传递将会报错。如果该参数是可选的，可以将<code>required</code>属性设置为false。<br />
<code>@RequestParam</code>中有三个属性：<code>name</code>、<code>required</code>、<code>defaultValue</code>，分别代表请求参数的名称、是否必须传递、默认值。</p>
</blockquote>
<h4 id="512-实体参数"><a class="markdownIt-Anchor" href="#512-实体参数"></a> 5.1.2 实体参数</h4>
<ul>
<li><strong>简单实体参数</strong>：<br />
请求参数名与形参对象属性名相同，定义POJO即可<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811184320.png" alt="" /></li>
<li><strong>复杂实体参数</strong>：<br />
请求参数名与形参对象属性名相同，按照对象层次结构关系即可接收嵌套POJO属性参数。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811184552.png" alt="" /></li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
可以在实体类中直接给定默认值，如果请求参数没有传递，则使用默认值。</p>
</blockquote>
<h4 id="513-数组集合参数"><a class="markdownIt-Anchor" href="#513-数组集合参数"></a> 5.1.3 数组集合参数</h4>
<ul>
<li><strong>数组参数</strong>：<br />
请求参数名与形参数组名称相同且请求参数为多个，定义数组类型形参即可接收数组参数。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811201852.png" alt="" /></li>
<li><strong>集合参数</strong>：<br />
请求参数名与形参集合名称相同且请求参数为多个，<code>@RequestParam</code>绑定参数关系<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811202303.png" alt="" /></li>
</ul>
<blockquote>
<p><strong>数组</strong>：请求参数名与形参中数组变量名相同，可以直接使用数组封装<br />
<strong>集合</strong>：请求参数名与形参中集合变量名相同，可以使用<code>@RequestParam</code>绑定参数关系</p>
</blockquote>
<h4 id="514-日期参数"><a class="markdownIt-Anchor" href="#514-日期参数"></a> 5.1.4 日期参数</h4>
<ul>
<li><strong>日期参数</strong>：<br />
使用<code>@DateTimeFormat</code>注解，指定日期格式。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811202903.png" alt="" /></li>
</ul>
<h4 id="515-json参数"><a class="markdownIt-Anchor" href="#515-json参数"></a> 5.1.5 JSON参数</h4>
<ul>
<li><strong>JSON参数</strong>：<br />
JSON数据<strong>键名</strong>与形参对象<strong>属性名</strong>相同，定义POJO类型形参即可接收参数，需要使用<code>@RequestBody</code>注解标识。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203406.png" alt="" /></li>
</ul>
<h4 id="516-路径参数"><a class="markdownIt-Anchor" href="#516-路径参数"></a> 5.1.6 路径参数</h4>
<ul>
<li><strong>路径参数</strong>：<br />
通过请求URL直接传递参数，使用{……}来标识该路径参数，需要使用<code>@PathVariable</code>注解获取路径参数。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203721.png" alt="" /></li>
</ul>
<h4 id="517-小结"><a class="markdownIt-Anchor" href="#517-小结"></a> 5.1.7 小结</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811203929.png" alt="" /></p>
<h3 id="52-响应"><a class="markdownIt-Anchor" href="#52-响应"></a> 5.2 响应</h3>
<h4 id="521-响应数据"><a class="markdownIt-Anchor" href="#521-响应数据"></a> 5.2.1 响应数据</h4>
<p><strong><code>@ResponseBody</code></strong>：</p>
<ul>
<li>类型：<strong>方法注解</strong>、<strong>类注解</strong></li>
<li>位置：Controller方法上/类上</li>
<li>作用：将方法返回值直接响应，如果返回值是 实体对象/集合，将会转换为JSON格式响应。</li>
<li>说明：<strong><code>@RestController</code></strong> == <strong><code>@Controller</code></strong>+<strong><code>@ResponseBody</code></strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811204403.png" alt="" /></p>
<blockquote>
<p>如果不添加<code>@ResponseBody</code>注解，Spring会认为返回值是一个视图名称。</p>
</blockquote>
<h4 id="522-统一响应结果"><a class="markdownIt-Anchor" href="#522-统一响应结果"></a> 5.2.2 统一响应结果</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811204521.png" alt="" /></p>
<h2 id="6分层解耦"><a class="markdownIt-Anchor" href="#6分层解耦"></a> 6.分层解耦</h2>
<h3 id="61-三层架构"><a class="markdownIt-Anchor" href="#61-三层架构"></a> 6.1 三层架构</h3>
<ul>
<li><strong><code>controller</code></strong>：控制层，接收前端发送的请求，对请求进行处理，并响应数据</li>
<li><strong><code>service</code></strong>：业务逻辑层，处理具体的业务逻辑，调用DAO层进行数据访问</li>
<li><strong><code>dao</code></strong>：数据访问层（持久层），负责数据访问操作，包括数据的增删改查</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811212617.png" alt="" /></p>
<h3 id="62-分层解耦"><a class="markdownIt-Anchor" href="#62-分层解耦"></a> 6.2 分层解耦</h3>
<ul>
<li><strong>内聚</strong>：软件中各个功能模块内部的功能联系。</li>
<li><strong>耦合</strong>：衡量软件中各个层/模块之间的依赖、关联的程度。</li>
<li><strong>软件设计原则</strong>：高内聚低耦合。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811212945.png" alt="" /></p>
<h3 id="63-ioc-di-入门"><a class="markdownIt-Anchor" href="#63-ioc-di-入门"></a> 6.3 IOC &amp; DI 入门</h3>
<h4 id="631-bean的声明"><a class="markdownIt-Anchor" href="#631-bean的声明"></a> 6.3.1 Bean的声明</h4>
<p>要把某个对象交给IOC容器管理，需要先在对应的类上加上如下注解之一：</p>
<table>
<thead>
<tr>
<th>注解</th>
<th>说明</th>
<th>位置</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@Component</code></td>
<td>声明Bean的基础注解</td>
<td>不属于以下三类时，使用此注解</td>
</tr>
<tr>
<td><code>@Controller</code></td>
<td>@Component的衍生注解</td>
<td>标注在控制器类上</td>
</tr>
<tr>
<td><code>@Service</code></td>
<td>@Component的衍生注解</td>
<td>标注在业务类上</td>
</tr>
<tr>
<td><code>@Repository</code></td>
<td>@Component的衍生注解</td>
<td>标注在数据访问类上 (由于与mybatis整合，用的少)</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>声明Bean的时候，可以通过value属性指定Bean的名称，如果没有指定，默认为类名首字母小写。</li>
<li>使用以上四个注解都可以声明Bean，但在SpringBoot集成web开发中，声明控制器Bean只能使用<code>@Controller</code>注解。</li>
</ul>
</blockquote>
<h4 id="632-bean组件扫描"><a class="markdownIt-Anchor" href="#632-bean组件扫描"></a> 6.3.2 Bean组件扫描</h4>
<ul>
<li>前面声明Bean的四大注解，要想生效，还需要被组件扫描<code>@ComponentScan</code>扫描。</li>
<li><code>@ComponentScan</code>注解虽然没有显示配置，但是实际上已经包含在了启动类声明注解<code>SpringBootApplication</code>中。</li>
<li>默认扫描的范围是启动类所在包及其子包。</li>
</ul>
<h4 id="633-bean的依赖注入"><a class="markdownIt-Anchor" href="#633-bean的依赖注入"></a> 6.3.3 Bean的依赖注入</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240811214504.png" alt="" /></p>
<ol>
<li>依赖注入的注解
<ul>
<li><code>@Autowired</code>：默认按照类型自动装配。</li>
<li>如果同类型的Bean存在多个：
<ul>
<li><code>@Primary</code>：指定Bean的优先级。</li>
<li><code>@Autowired + @Qualifier(&quot;Bean的名称&quot;)</code>：</li>
<li><code>@Resource(name = &quot;Bean的名称&quot;)</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>@Resource</strong>与<b>@Autowired</b>区别：
<ul>
<li>@Autowired是Spring框架提供的注解，而@Resource是JDK提供的注解</li>
<li>@Autowired默认是按照类型注入，而@Resource默认是按照名称注入</li>
</ul>
</li>
</ol>
<h2 id="7lombok"><a class="markdownIt-Anchor" href="#7lombok"></a> 7.Lombok</h2>
<ul>
<li>Lombok是一个实用的Java类库，能通过注解的形式自动生成构造器、getter/setter、equals、hashCode、toString等方法，并可以自动生成日志变量，简化Java开发、提高效率。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813114516.png" alt="" /></li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
Lombok会在编译时，自动生成对应的Java代码。我们使用Lombok时，还需要安装一个lombok插件（idea自带）。</p>
</blockquote>
<h2 id="8mybatis"><a class="markdownIt-Anchor" href="#8mybatis"></a> 8.MyBatis</h2>
<ul>
<li>MyBatis是一款优秀的<font color="red">持久层(dao)</font>框架，用于简化JDBC的开发。</li>
<li>MyBatis本是Apache的一个开源项目iBatis，2010年这个项目由Apache迁移到了Google Code，并且改名为MyBatis。2013年11月迁移到Github。</li>
<li>官网：<a target="_blank" rel="noopener" href="https://mybatis.org">https://mybatis.org</a></li>
</ul>
<h3 id="81-快速入门"><a class="markdownIt-Anchor" href="#81-快速入门"></a> 8.1 快速入门</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813104626.png" alt="" /></p>
<h3 id="82-jdbc介绍"><a class="markdownIt-Anchor" href="#82-jdbc介绍"></a> 8.2 JDBC介绍</h3>
<ul>
<li><strong>JDBC</strong>：<br />
Java DataBase Connectivity，就是使用Java语言操作关系型数据库的一套API。</li>
<li><strong>本质</strong>：
<ul>
<li>sun公司官方定义的一套操作所有关系型数据库的规范，即接口。</li>
<li>各个数据库厂商去实现这套接口，提供数据库<font color="red">驱动jar包</font>。</li>
<li>我们可以使用这套接口（JDBC）编程，真正执行的代码是驱动jar包中的实现类。</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813105135.png" alt="" /></p>
<h3 id="83-数据库连接池"><a class="markdownIt-Anchor" href="#83-数据库连接池"></a> 8.3 数据库连接池</h3>
<ul>
<li><strong>概念</strong>：
<ul>
<li>数据库连接池是一个容器，负责分配，管理数据库连接(Connection)</li>
<li>它允许应用程序重复使用一个现有的数据库连接，而不是重新建立一个</li>
<li>释放空闲时间超过最大空闲时间的连接，来避免因为没有释放连接而引起的数据库连接遗漏</li>
</ul>
</li>
<li><strong>优势</strong>：
<ul>
<li>资源重用</li>
<li>提升系统响应速度</li>
<li>避免数据库连接遗漏</li>
</ul>
</li>
<li><strong>标准接口</strong>：<code>DataSource</code>
<ul>
<li>官方(Sun)提供的数据库连接池接口，由第三方组织实现此类接口。</li>
<li>功能：获取连接 <code>Connection getConnection() throws SQLException;</code></li>
</ul>
</li>
<li><strong>常见产品</strong>：<br />
<strong>C3P0、DBCP、Druid、Hikari（springboot默认）</strong>
<ul>
<li>Durid(德鲁伊)：是阿里巴巴开源的一个数据库连接池实现，它具有监控功能、SQL防火墙、SQL优化功能等。</li>
</ul>
</li>
<li><strong>切换Druid数据库连接池</strong>：
<ul>
<li>官方地址：<a target="_blank" rel="noopener" href="https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter">https://github.com/alibaba/druid/tree/master/druid-spring-boot-starter</a></li>
<li>添加依赖(pom.xml)：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--在pom.xml中添加依赖--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="84-基础操作"><a class="markdownIt-Anchor" href="#84-基础操作"></a> 8.4 基础操作</h3>
<h4 id="841-参数占位符"><a class="markdownIt-Anchor" href="#841-参数占位符"></a> 8.4.1 参数占位符</h4>
<ul>
<li><strong><code>#&#123;……&#125;</code></strong>：
<ul>
<li>在执行SQL时，会将<code>#&#123;……&#125;</code>替换为 ? ,生成预编译SQL，会自动设置参数值。</li>
<li>使用时机：参数传递，都使用<code>#&#123;……&#125;</code>。</li>
<li><font color="red"><strong>不能直接在引号内使用，因为如果将 #{……} 放在引号内，MyBatis 会将其处理为一个普通的字符串值，而不会进行参数替换。</strong></font><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813164518.png" alt="" /></li>
</ul>
</li>
<li><strong><code>$&#123;……&#125;</code></strong>：
<ul>
<li>拼接SQL，直接将参数拼接在SQL语句中，存在SQL注入问题。</li>
<li>使用时机：如果对表名、列表进行动态设置时使用。</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>总结</strong>：</p>
<ul>
<li>动态值 使用 #{key}，动态的列名、容器名、关键字等使用 ${……}。</li>
<li>？只能替代值的位置，不能替代标签、列名、表名、关键字等。emp_id = ? ，不能写 ？= ?</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//注解方式传入参数！！</span>
<span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from user where $&#123;column&#125; = #&#123;value&#125;"</span><span class="token punctuation">)</span>
<span class="token class-name">User</span> <span class="token function">findByColumn</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"column"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> column<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="842-预编译sql"><a class="markdownIt-Anchor" href="#842-预编译sql"></a> 8.4.2 预编译SQL</h4>
<p><strong>优势</strong>：</p>
<ul>
<li>性能更高</li>
<li>更安全(防止SQL注入)<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813164710.png" alt="" /></li>
</ul>
<h4 id="843-日志输出"><a class="markdownIt-Anchor" href="#843-日志输出"></a> 8.4.3 日志输出</h4>
<p>可以在application.yml中，打开mybatis的日志，并指定输出到控制台。</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token comment"># 配置mybatis的日志, 指定输出到控制台</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl
    <span class="token comment"># 开启mybatis的驼峰命名自动映射开关 a_column ------> aCloumn</span>
    <span class="token key atrule">map-underscore-to-camel-case</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="844-删除"><a class="markdownIt-Anchor" href="#844-删除"></a> 8.4.4 删除</h4>
<ul>
<li><strong>SQL语句：</strong><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>接口方法：</strong><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Delete</span><span class="token punctuation">(</span><span class="token string">"delete from emp where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
如果mapper接口方法形参只有一个普通类型的参数，#{……}里面的属性名可以随便写，如：#{id}、#{value}，但最好和参数名一致。</p>
</blockquote>
<h4 id="845-添加"><a class="markdownIt-Anchor" href="#845-添加"></a> 8.4.5 添加</h4>
<p><strong>无需主键返回</strong></p>
<ul>
<li><strong>SQL语句：</strong><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> emp<span class="token punctuation">(</span>username<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> email<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'宋江'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1056985080</span><span class="token variable">@qq.com</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>接口方法：</strong><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">"insert into emp(username, gender, email, dept_id) values (#&#123;username&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;deptId&#125;)"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">Emp</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// emp对象</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Emp</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Short</span> gender<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">Integer</span> deptId<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>主键返回</strong></p>
<ul>
<li><strong>描述</strong>：<br />
在数据添加成功后，需要获取插入数据库数据的主键值。（eg：添加套餐数据后，还需要维护套餐菜品关系表数据）</li>
<li><strong>实现</strong>：<br />
在接口方法前添加<code>@Options(keyProperty = &quot;id&quot;, useGeneratedKeys = true)</code>注解 =&gt; 会自动将生成的主键值，赋值给emp对象的id属性。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Options</span><span class="token punctuation">(</span>keyProperty <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> useGeneratedKeys <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">"insert into emp(username, gender, email, dept_id) values (#&#123;username&#125;,#&#123;gender&#125;,#&#123;email&#125;,#&#123;deptId&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">Emp</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="846-更新"><a class="markdownIt-Anchor" href="#846-更新"></a> 8.4.6 更新</h4>
<ul>
<li><strong>SQL语句(根据ID更新员工信息)：</strong><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">update</span> emp <span class="token keyword">set</span> username <span class="token operator">=</span> <span class="token string">'李逵'</span><span class="token punctuation">,</span> gender <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> email <span class="token operator">=</span> <span class="token string">'1056985080@qq.com'</span><span class="token punctuation">,</span> dept_id <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>接口方法：</strong><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">"update emp set username = #&#123;username&#125;, gender = #&#123;gender&#125;, email = #&#123;email&#125;, dept_id = #&#123;deptId&#125; where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Emp</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="847-查询"><a class="markdownIt-Anchor" href="#847-查询"></a> 8.4.7 查询</h4>
<p><strong>根据ID查询</strong></p>
<ul>
<li><strong>SQL语句：</strong><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>接口方法：</strong><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from emp where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Emp</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<p><strong>模糊查询</strong></p>
<ul>
<li><strong>SQL语句：</strong><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> username <span class="token operator">like</span> <span class="token string">'%张%'</span> <span class="token operator">and</span> gender <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><strong>接口方法：</strong><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from emp where username like '%$&#123;name&#125;%' and gender = #&#123;gender&#125; order by id desc"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">></span></span> <span class="token function">getByNameAndGender</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Short</span> gender<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 性能低、不安全，存在SQL注入问题</span>

<span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from emp where username like concat('%',#&#123;name&#125;,'%') and gender = #&#123;gender&#125; order by id desc"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">></span></span> <span class="token function">getByNameAndGender</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Short</span> gender<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 性能高、安全，不会存在SQL注入问题</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><b><code>concat()</code></b>函数：连接字符串，eg：concat(‘%’,#{name},‘%’)，解决<code>#&#123;……&#125;</code>不能直接在引号中使用的问题。</p>
<h4 id="848-参数名说明"><a class="markdownIt-Anchor" href="#848-参数名说明"></a> 8.4.8 参数名说明</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813174439.png" alt="" /></p>
<h4 id="849-数据封装"><a class="markdownIt-Anchor" href="#849-数据封装"></a> 8.4.9 数据封装</h4>
<ul>
<li>实体类属性名 和 数据库表查询返回的字段名一致，mybatis会自动封装。</li>
<li>如果实体类属性名 和 数据库表查询返回的字段名不一致，不能自动封装。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813174948.png" alt="" /></li>
</ul>
<p>解决方式：</p>
<ul>
<li>
<p><strong>起别名</strong>：在SQL语句中，对不一样的列名器别名，别名和实体类中的属性名一致。(<code>as</code>可以省略)</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select id, username, gender, email, dept_id as deptId from emp where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Emp</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>手动结果映射</strong>：</p>
<ul>
<li>通过<b><code>@Results</code></b>和<b><code>@Result</code></b>注解，手动映射。</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"select * from emp where id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"dept_id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"deptId"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"create_time"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"createTime"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"update_time"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"updateTime"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Emp</span> <span class="token function">getById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>通过<b><code>&lt;resultMap&gt;</code></b>标签定义对应关系，再在后面的SQL语句中引用这个对应关系</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- 专门声明一个resultMap设定column到property之间的对应关系 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectEmployeeByRMResultMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!-- 使用id标签设置主键列和主键属性之间的对应关系 --></span>
  <span class="token comment">&lt;!-- column属性用于指定字段名；property属性用于指定Java实体类属性名 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emp_id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empId<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

  <span class="token comment">&lt;!-- 使用result标签设置普通字段和Java实体类属性之间的关系 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emp_name<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emp_salary<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empSalary<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- Employee selectEmployeeByRM(Integer empId); --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectEmployeeByRM<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectEmployeeByRMResultMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
select emp_id,emp_name,emp_salary from t_emp where emp_id=#&#123;empId&#125;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>开启驼峰命名</strong>：如果字段名与属性名符合驼峰命名法则，mybatis会自动通过驼峰命名规则映射。<br />
主要用于单层级的字段映射。它不能自动处理更复杂的场景，例如多层级的嵌套对象或深层次的属性名转换。</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 在application.yml中，开启驼峰命名自动映射开关。即从数据库字段名a_column映射到实体类属性名aCloumn。</span>
<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
<span class="token key atrule">configuration</span><span class="token punctuation">:</span>
  <span class="token comment"># 配置mybatis的日志, 指定输出到控制台</span>
  <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl
  <span class="token comment"># 开启mybatis的驼峰命名自动映射开关 a_column ------> aCloumn</span>
  <span class="token key atrule">map-underscore-to-camel-case</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>开启自动映射</strong>：<code>autoMappingBehavior</code> 是 MyBatis 中的一个全局配置项，用于控制 MyBatis 如何自动映射查询结果中的列到 Java 实体类的属性上。根据配置的不同，<code>autoMappingBehavior</code> 可以影响映射的自动化程度，从而减少或增加手动配置的需求。它有以下三个配置选项：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token comment"># 配置MyBatis的日志, 指定输出到控制台</span>
    <span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl
    <span class="token comment"># 设置MyBatis的自动映射行为</span>
    <span class="token key atrule">auto-mapping-behavior</span><span class="token punctuation">:</span> NONE <span class="token comment"># 可选值：NONE, PARTIAL, FULL</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong><code>NONE</code></strong>：MyBatis 不会自动映射任何列到实体类属性。所有的映射关系必须手动配置，通常通过 <code>@Result</code> 注解或 <code>&lt;resultMap&gt;</code> 标签来指定。这种模式适合需要对映射关系进行严格控制的场景，以避免意外的映射错误。</li>
<li><strong><code>PARTIAL</code></strong>（默认值）：MyBatis 会自动映射查询结果中的列到实体类属性，但只限于那些没有在 <code>ResultMap</code> 中明确定义过的列。如果在 <code>ResultMap</code> 中已经定义了某列的映射关系，则 MyBatis 不会再次自动映射该列。<code>PARTIAL</code> 是大多数情况下的推荐设置，能够在保持映射控制的同时，自动处理简单的映射任务。</li>
<li><strong><code>FULL</code></strong>：MyBatis 会尝试自动映射所有查询结果中的列到实体类属性，无论这些列是否在 <code>ResultMap</code> 中定义。<code>FULL</code> 设置适合简单对象的映射，能够减少手动配置的工作量。但在复杂映射场景中，可能导致意外的映射错误，因此需要谨慎使用。</li>
<li><strong>应用场景与注意事项</strong>：<code>autoMappingBehavior</code> 的设置直接影响 MyBatis 的自动映射能力。设置为 <code>FULL</code> 时，MyBatis 可以帮助自动处理简单的<strong>嵌套对象映射</strong>，但对于复杂的嵌套结构，手动映射依然是必不可少的。即使设置为 <code>FULL</code> 或 <code>PARTIAL</code>，在复杂或关键场景下，建议依然手动配置映射，以确保映射的准确性和可控性。此外，在处理大数据量或复杂对象映射时，<code>FULL</code> 的自动映射可能增加系统负担，因此在性能敏感的应用中应谨慎选择。</li>
</ul>
</li>
</ul>
<h4 id="8410-多表映射"><a class="markdownIt-Anchor" href="#8410-多表映射"></a> 8.4.10 多表映射</h4>
<ul>
<li>
<p><strong>一对一映射</strong>：<br />
在一对一关联中，一个实体对象包含另一个实体对象，通常通过外键关系实现。使用 <strong><code>@One</code></strong> 注解、**<code>@Result</code><strong>注解、</strong><code>&lt;association&gt;</code>**标签均可以帮助 MyBatis 自动处理这种关系的查询和映射。</p>
<p><strong>示例</strong>：<br />
假设我们有两个表：<code>user</code> 和 <code>address</code>，它们之间存在一对一关系。</p>
<ul>
<li>
<p><code>user</code> 表：</p>
<ul>
<li><code>id</code>（用户ID）</li>
<li><code>name</code>（用户名）</li>
<li><code>address_id</code>（外键，指向 <code>address</code> 表的 ID）</li>
</ul>
</li>
<li>
<p><code>address</code> 表：</p>
<ul>
<li><code>id</code>（地址ID）</li>
<li><code>street</code>（街道）</li>
<li><code>city</code>（城市）</li>
</ul>
</li>
</ul>
<p><strong>实体类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span> <span class="token comment">// 一对一关系</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> street<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<ol>
<li>
<p><strong>注解方式 (<code>@One</code> 注解)</strong><br />
在 <code>UserMapper</code> 中，使用 <code>@One</code> 注解来配置一对一关联。在这种方式中，<code>@One</code> 注解用于指定如何从主查询的结果集中加载一个单一的关联对象。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT u.id, u.name, a.id AS address_id, a.street, a.city "</span> <span class="token operator">+</span>
             <span class="token string">"FROM user u "</span> <span class="token operator">+</span>
             <span class="token string">"LEFT JOIN address a ON u.address_id = a.id "</span> <span class="token operator">+</span>
             <span class="token string">"WHERE u.id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"address_id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"address"</span><span class="token punctuation">,</span>
                one <span class="token operator">=</span> <span class="token annotation punctuation">@One</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"com.example.mapper.AddressMapper.findById"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>@Result(column = &quot;address_id&quot;, property = &quot;address&quot;, one = @One(select = &quot;com.example.mapper.AddressMapper.findById&quot;))</code>：
<ul>
<li><code>column</code>：数据库字段名。</li>
<li><code>property</code>：实体类中的属性名。</li>
<li><code>one</code>：指定一个方法来查询 <code>Address</code> 对象，<code>select</code> 属性指向了 <code>AddressMapper</code> 中的方法 <code>findById</code>。</li>
</ul>
</li>
</ul>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AddressMapper</span> <span class="token punctuation">&#123;</span>
   
   <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT id, street, city FROM address WHERE id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
   <span class="token class-name">Address</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>注解方式 (<code>@Result</code> 注解)</strong><br />
在 <code>UserMapper</code> 中，使用 <code>@Result</code> 注解来直接映射数据库字段到实体类的属性。如果关联对象的属性在主查询中被直接包含，则可以通过 <code>@Result</code> 注解来映射。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT u.id, u.name, a.id AS address_id, a.street, a.city "</span> <span class="token operator">+</span>
            <span class="token string">"FROM user u "</span> <span class="token operator">+</span>
            <span class="token string">"LEFT JOIN address a ON u.address_id = a.id "</span> <span class="token operator">+</span>
            <span class="token string">"WHERE u.id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"address_id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"address.id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 自动映射到 Address 对象</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"street"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"address.street"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"city"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"address.city"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><code>@Result(column = &quot;address_id&quot;, property = &quot;address.id&quot;)</code>：自动将 <code>address_id</code> 映射到 <code>Address</code> 对象的 <code>id</code> 属性。</li>
<li><code>@Result(column = &quot;street&quot;, property = &quot;address.street&quot;)</code>：将 <code>street</code> 映射到 <code>Address</code> 对象的 <code>street</code> 属性。</li>
</ul>
</li>
<li>
<p><strong>XML 配置方式 (<code>&lt;association&gt;</code> 标签)</strong><br />
在 <code>UserMapper.xml</code> 中，通过 <code>&lt;association&gt;</code> 标签指定如何查询和映射关联对象。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    SELECT u.id, u.name, a.id AS address_id, a.street, a.city
    FROM user u
    LEFT JOIN address a ON u.address_id = a.id
    WHERE u.id = #&#123;id&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.Address<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address_id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>street<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>street<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>city<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong><code>&lt;association&gt;</code> 标签</strong>：用于指定如何加载和映射关联对象。
<ul>
<li><code>property</code>：在主对象中用来表示关联对象的属性名。</li>
<li><code>javaType</code>：被关联的实体类的全类名。</li>
<li><code>&lt;id&gt;</code>：映射主键字段。</li>
<li><code>&lt;result&gt;</code>：映射其他字段。</li>
</ul>
</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>总结</strong></p>
<ul>
<li><strong><code>@One</code> 注解</strong>：用于在注解方式中配置一对一关系，通过指定 <code>select</code> 属性来查询关联对象。</li>
<li><strong><code>@Result</code> 注解</strong>：直接映射查询结果到实体对象的属性，包括嵌套对象的属性。</li>
<li><strong><code>&lt;association&gt;</code> 标签</strong>：在 XML 配置中定义一对一关系，通过指定 <code>property</code> 和 <code>javaType</code> 来配置如何映射关联对象。</li>
</ul>
</blockquote>
<ul>
<li>
<p><strong>一对多映射</strong>：<br />
假设我们有两个表：<code>user</code> 和 <code>orders</code>，其中一个用户 (<code>user</code>) 可以有多个订单 (<code>orders</code>)。我们将展示如何在 <code>User</code> 对象中使用 <code>@Many</code> 注解以及在 XML 配置中使用 <code>&lt;collection&gt;</code> 标签来处理一对多关系。</p>
<p><strong>实体类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">></span></span> orders<span class="token punctuation">;</span> <span class="token comment">// 一对多关系</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> product<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> userId<span class="token punctuation">;</span> <span class="token comment">// 外键</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<ol>
<li>
<p><strong>使用 <code>@Many</code> 注解</strong><br />
在这种方式中，我们在 <code>UserMapper</code> 接口中使用 <code>@Many</code> 注解来定义一对多关系。<br />
<strong>Mapper 接口</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT u.id, u.name, o.id AS order_id, o.product "</span> <span class="token operator">+</span>
            <span class="token string">"FROM user u "</span> <span class="token operator">+</span>
            <span class="token string">"LEFT JOIN orders o ON u.id = o.user_id "</span> <span class="token operator">+</span>
            <span class="token string">"WHERE u.id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"orders"</span><span class="token punctuation">,</span> 
                many <span class="token operator">=</span> <span class="token annotation punctuation">@Many</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"com.example.mapper.OrderMapper.findByUserId"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>OrderMapper 接口</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderMapper</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT id, product, user_id FROM orders WHERE user_id = #&#123;userId&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">></span></span> <span class="token function">findByUserId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong><code>@Many</code> 注解</strong>：在 <code>UserMapper</code> 中，<code>@Result</code> 注解的 <code>many</code> 属性指定了如何加载 <code>orders</code> 属性。<code>select</code> 属性指向 <code>OrderMapper</code> 中的 <code>findByUserId</code> 方法，该方法返回<br />
与  <code>userId</code> 相关的所有订单。</li>
</ul>
</li>
<li>
<p><strong>使用 XML 配置中的 <code>&lt;collection&gt;</code> 标签</strong><br />
在这种方式中，我们使用 XML 配置文件来定义一对多关系。</p>
<p><strong>UserMapper.xml</strong></p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.mapper.UserMapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        SELECT u.id, u.name, o.id AS order_id, o.product
        FROM user u
        LEFT JOIN orders o ON u.id = o.user_id
        WHERE u.id = #&#123;id&#125;
        <span class="token comment">&lt;!-- 使用 `&lt;collection>` 标签定义一对多关系 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orders<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.Order<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>order_id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong><code>&lt;collection&gt;</code> 标签</strong>：用于定义 <code>User</code> 对象中的 <code>orders</code> 集合属性。<code>property</code> 属性指定集合属性的名称，<code>ofType</code> 属性指定集合中元素的类型。在查询结果中，MyBatis 会自动 将结果集中的多个订单映射到 <code>User</code> 对象的 <code>orders</code> 属性中。</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>总结</strong></p>
<ul>
<li><strong><code>@Many</code> 注解</strong>：在 <code>UserMapper</code> 中通过 <code>@Many</code> 注解指定如何查询与 <code>User</code> 相关的多个 <code>Order</code> 对象。这种方式简洁明了，并且适用于注解方式的配置。</li>
<li><strong>XML 配置中的 <code>&lt;collection&gt;</code> 标签</strong>：在 <code>UserMapper.xml</code> 中使用 <code>&lt;collection&gt;</code> 标签来定义一对多关系。通过这种方式，你可以在 XML 文件中清晰地配置如何将多个结果映射到 <code>User</code> 对象的集合属性中。这种方式适用于 XML 配置文件，并允许你在查询中定义更复杂的映射逻辑。</li>
</ul>
</blockquote>
<ul>
<li>
<p><strong>三表查询</strong>：<br />
在 MyBatis 中处理三表关联时，通常涉及到多对多或更复杂的多级关联关系。我们可以通过多对一和一对多的组合来实现三表关联。下面我将展示一个处理三表关联的完整示例，包括使用注解和 XML 配置两种方式。</p>
<p><strong>示例</strong><br />
假设我们有以下三张表：</p>
</li>
<li>
<p><strong><code>user</code> 表</strong>：存储用户信息。</p>
<ul>
<li><code>id</code>（用户ID）</li>
<li><code>name</code>（用户名）</li>
</ul>
</li>
<li>
<p><strong><code>orders</code> 表</strong>：存储订单信息，关联到 <code>user</code> 表。</p>
<ul>
<li><code>id</code>（订单ID）</li>
<li><code>product</code>（产品名）</li>
<li><code>user_id</code>（外键，指向 <code>user</code> 表的 ID）</li>
</ul>
</li>
<li>
<p><strong><code>order_items</code> 表</strong>：存储订单项信息，关联到 <code>orders</code> 表。</p>
<ul>
<li><code>id</code>（订单项ID）</li>
<li><code>order_id</code>（外键，指向 <code>orders</code> 表的 ID）</li>
<li><code>item_name</code>（订单项名）</li>
</ul>
<p><strong>实体类</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">></span></span> orders<span class="token punctuation">;</span> <span class="token comment">// 一对多关系：用户 -> 订单</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> product<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">></span></span> orderItems<span class="token punctuation">;</span> <span class="token comment">// 一对多关系：订单 -> 订单项</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderItem</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> itemName<span class="token punctuation">;</span>
    <span class="token comment">// Getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>目标</strong><br />
我们要查询 <code>User</code> 对象，并且包含用户的订单 (<code>Order</code>)，以及每个订单下的订单项 (<code>OrderItem</code>)。</p>
</li>
</ul>
<ol>
<li>
<p><strong>使用注解的方式</strong>：<br />
<strong>UserMapper 接口</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT u.id, u.name, o.id AS order_id, o.product "</span> <span class="token operator">+</span>
            <span class="token string">"FROM user u "</span> <span class="token operator">+</span>
            <span class="token string">"LEFT JOIN orders o ON u.id = o.user_id "</span> <span class="token operator">+</span>
            <span class="token string">"WHERE u.id = #&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"order_id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"orders"</span><span class="token punctuation">,</span> 
                many <span class="token operator">=</span> <span class="token annotation punctuation">@Many</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"com.example.mapper.OrderMapper.findByUserId"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token class-name">User</span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>OrderMapper 接口</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderMapper</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT id, product FROM orders WHERE user_id = #&#123;userId&#125;"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Results</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"product"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"product"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@Result</span><span class="token punctuation">(</span>column <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> property <span class="token operator">=</span> <span class="token string">"orderItems"</span><span class="token punctuation">,</span> 
                many <span class="token operator">=</span> <span class="token annotation punctuation">@Many</span><span class="token punctuation">(</span>select <span class="token operator">=</span> <span class="token string">"com.example.mapper.OrderItemMapper.findByOrderId"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Order</span><span class="token punctuation">></span></span> <span class="token function">findByUserId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>OrderItemMapper 接口</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderItemMapper</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">"SELECT id, item_name FROM order_items WHERE order_id = #&#123;orderId&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderItem</span><span class="token punctuation">></span></span> <span class="token function">findByOrderId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> orderId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这个配置中：</p>
<ul>
<li><strong><code>UserMapper</code></strong>：负责查询 <code>User</code> 信息及其关联的 <code>Order</code> 列表。<code>@Many</code> 注解指向 <code>OrderMapper</code> 中的 <code>findByUserId</code> 方法，该方法进一步加载每个订单的详细信息。</li>
<li><strong><code>OrderMapper</code></strong>：负责查询 <code>Order</code> 信息及其关联的 <code>OrderItem</code> 列表。<code>@Many</code> 注解指向 <code>OrderItemMapper</code> 中的 <code>findByOrderId</code> 方法。</li>
<li><strong><code>OrderItemMapper</code></strong>：负责查询 <code>OrderItem</code> 列表。</li>
</ul>
</li>
<li>
<p><strong>使用 XML 配置的方式</strong>：<br />
<strong>UserMapper.xml</strong></p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.mapper.UserMapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>findById<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.User<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        SELECT u.id, u.name
        FROM user u
        WHERE u.id = #&#123;id&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orders<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.Order<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            SELECT o.id AS order_id, o.product
            FROM orders o
            WHERE o.user_id = #&#123;id&#125;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>orderItems<span class="token punctuation">"</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.example.pojo.OrderItem<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                SELECT oi.id AS item_id, oi.item_name
                FROM order_items oi
                WHERE oi.order_id = #&#123;order_id&#125;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong><code>&lt;collection&gt;</code> 标签</strong>：用于定义一对多关系，首先映射 <code>User</code> 与 <code>Order</code> 之间的关系，然后在 <code>Order</code> 与 <code>OrderItem</code> 之间再次使用 <code>&lt;collection&gt;</code> 标签。</li>
<li><strong>多级映射</strong>：在 <code>UserMapper.xml</code> 中，我们嵌套使用 <code>&lt;collection&gt;</code> 标签来处理多级关联。</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>总结</strong></p>
<ul>
<li><strong>注解方式</strong>：<code>@Many</code> 注解在三表关联中非常有效，可以简化代码，特别是在分布式项目中，但在复杂查询中可能不如 XML 配置灵活。</li>
<li><strong>XML 配置方式</strong>：<code>&lt;collection&gt;</code> 标签在处理复杂关联时更直观，尤其是当查询需要多级嵌套或复杂的结果映射时。</li>
</ul>
</blockquote>
<h3 id="85-xml映射文件"><a class="markdownIt-Anchor" href="#85-xml映射文件"></a> 8.5 XML映射文件</h3>
<ul>
<li><strong>规范</strong>：
<ul>
<li>XML映射文件的名称与Mapper接口名称一致，并且将XML映射文件和Mapper接口放在同一个包下(同包同名)。</li>
<li>XML映射文件的namespace属性与Mapper接口全限定名一致。</li>
<li>XML映射文件中的SQL语句的id属性与Mapper接口方法名一致，并保持返回类型一致。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813183451.png" alt="" /></li>
</ul>
</li>
</ul>
<blockquote>
<p>使用Mybatis的注解，主要是来完成一些简单的增删改查功能，如果需要实现复杂的SQL功能，建议使用XML来配置映射语句。</p>
</blockquote>
<h4 id="851-if标签"><a class="markdownIt-Anchor" href="#851-if标签"></a> 8.5.1 if标签</h4>
<ul>
<li><strong>&lt;if&gt;</strong>：
<ul>
<li>用于判断条件是否成立，如果条件为true，则拼接SQL。</li>
<li>形式：&lt;if test=“条件”&gt;……&lt;/if&gt;。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"gender != null"</span><span class="token operator">></span>……<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h4 id="852-where标签"><a class="markdownIt-Anchor" href="#852-where标签"></a> 8.5.2 where标签</h4>
<ul>
<li><strong>&lt;where&gt;</strong>：
<ul>
<li>where元素只会在子元素有内容的情况下才能插入where子句，而且会自动去除子句开头的and或or</li>
<li>形式：&lt;where&gt;……&lt;/where&gt;。<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"findUsers"</span> resultType<span class="token operator">=</span><span class="token string">"User"</span><span class="token operator">></span>
  select <span class="token operator">*</span> from user
  <span class="token generics"><span class="token punctuation">&lt;</span>where<span class="token punctuation">></span></span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"name != null and name != ''"</span><span class="token operator">></span>
          name <span class="token operator">=</span> #<span class="token punctuation">&#123;</span>name<span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"age != null"</span><span class="token operator">></span>
          and age <span class="token operator">=</span> #<span class="token punctuation">&#123;</span>age<span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"gender != null and gender != ''"</span><span class="token operator">></span>
          and gender <span class="token operator">=</span> #<span class="token punctuation">&#123;</span>gender<span class="token punctuation">&#125;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>where<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<h4 id="853-set标签"><a class="markdownIt-Anchor" href="#853-set标签"></a> 8.5.3 set标签</h4>
<ul>
<li><strong>&lt;set&gt;</strong>：
<ul>
<li>动态地在行首插入set关键字，并会删除掉额外的逗号。（用在update语句中）</li>
<li>形式：&lt;set&gt;……&lt;/set&gt;。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813190655.png" alt="" /></li>
</ul>
</li>
</ul>
<h4 id="854-foreach标签"><a class="markdownIt-Anchor" href="#854-foreach标签"></a> 8.5.4 foreach标签</h4>
<ul>
<li>SQL语句：<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>接口方法：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 批量删除</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteByIds</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>XML映射文件：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deleteByIds<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 从 emp 表中删除满足条件的记录 --></span>
    delete from emp where id in
    <span class="token comment">&lt;!-- 
        使用 &lt;foreach> 标签遍历传入的集合 ids
        collection="ids" 表示传入的集合参数名称是 ids
        item="id" 表示遍历集合中的每个元素，并将当前元素赋值给 id
        open="(" 表示在遍历元素之前，SQL 语句中添加一个左括号 (
        separator="," 表示在每个元素之间，用逗号 , 作为分隔符
        close=")" 表示在遍历元素之后，SQL 语句中添加一个右括号 )
        原SQL：delete from emp where id in (1,2,3,4,5)
    --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ids<span class="token punctuation">"</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(<span class="token punctuation">"</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>,<span class="token punctuation">"</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- 
            将当前遍历到的 id 以 #&#123;id&#125; 的形式插入到 SQL 语句中
            #&#123;id&#125; 是 MyBatis 的占位符，用于安全地传递参数，防止 SQL 注入
        --></span>
        #&#123;id&#125;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>属性：
<ul>
<li><code>collection</code>：集合属性名。</li>
<li><code>item</code>：集合遍历出来的元素/项的名称。</li>
<li><code>open</code>：遍历集合元素前的前缀。【在遍历元素之前需要往SQL语句中添加什么内容】</li>
<li><code>separator</code>：遍历集合元素间的分隔符。【在遍历元素之间需要往SQL语句中添加什么内容】</li>
<li><code>close</code>：遍历集合元素后的后缀。【在遍历元素之后需要往SQL语句中添加什么内容】</li>
</ul>
</li>
</ul>
<h4 id="855-sql片段"><a class="markdownIt-Anchor" href="#855-sql片段"></a> 8.5.5 sql片段</h4>
<ul>
<li><strong>&lt;sql&gt;</strong>：定义可重用的SQL片段。</li>
<li><strong>&lt;include&gt;</strong>：通过属性refid，指定包含的sql片段的id。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240813191643.png" alt="" /></li>
</ul>
<h4 id="856-trim标签"><a class="markdownIt-Anchor" href="#856-trim标签"></a> 8.5.6 trim标签</h4>
<p>使用trim标签控制条件部分两端是否包含某些字符</p>
<ul>
<li>prefix属性：指定要动态添加的前缀</li>
<li>suffix属性：指定要动态添加的后缀</li>
<li>prefixOverrides属性：指定要动态去掉的前缀，使用&quot;|&quot;分隔有可能的多个值</li>
<li>suffixOverrides属性：指定要动态去掉的后缀，使用&quot;|&quot;分隔有可能的多个值</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- List&lt;Employee> selectEmployeeByConditionByTrim(Employee employee) --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectEmployeeByConditionByTrim<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    select emp_id,emp_name,emp_age,emp_salary,emp_gender
    from t_emp
    
    <span class="token comment">&lt;!-- prefix属性指定要动态添加的前缀 --></span>
    <span class="token comment">&lt;!-- suffix属性指定要动态添加的后缀 --></span>
    <span class="token comment">&lt;!-- prefixOverrides属性指定要动态去掉的前缀，使用“|”分隔有可能的多个值 --></span>
    <span class="token comment">&lt;!-- suffixOverrides属性指定要动态去掉的后缀，使用“|”分隔有可能的多个值 --></span>
    <span class="token comment">&lt;!-- 当前例子用where标签实现更简洁，但是trim标签更灵活，可以用在任何有需要的地方 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>where<span class="token punctuation">"</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>and|or<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empName != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            emp_name=#&#123;empName&#125; and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empSalary <span class="token entity named-entity" title="&gt;">&amp;gt;</span> 3000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            emp_salary>#&#123;empSalary&#125; and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empAge <span class="token entity named-entity" title="&lt;">&amp;lt;</span>= 20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            emp_age=#&#123;empAge&#125; or
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empGender=='male'<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            emp_gender=#&#123;empGender&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="857-choosewhenotherwise标签"><a class="markdownIt-Anchor" href="#857-choosewhenotherwise标签"></a> 8.5.7 choose/when/otherwise标签</h4>
<p>在多个分支条件中，仅执行一个。</p>
<ul>
<li>从上到下依次执行条件判断</li>
<li>遇到的第一个满足条件的分支会被采纳</li>
<li>被采纳分支后面的分支都将不被考虑</li>
<li>如果所有的when分支都不满足，那么就执行otherwise分支</li>
</ul>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- List&lt;Employee> selectEmployeeByConditionByChoose(Employee employee) --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectEmployeeByConditionByChoose<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.atguigu.mybatis.entity.Employee<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    select emp_id,emp_name,emp_salary from t_emp
    where
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empName != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>emp_name=#&#123;empName&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>empSalary <span class="token entity named-entity" title="&lt;">&amp;lt;</span> 3000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>emp_salary <span class="token entity named-entity" title="&lt;">&amp;lt;</span> 3000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">></span></span>1=1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">></span></span>
    
    <span class="token comment">&lt;!--
     第一种情况：第一个when满足条件 where emp_name=?
     第二种情况：第二个when满足条件 where emp_salary &lt; 3000
     第三种情况：两个when都不满足 where 1=1 执行了otherwise
     --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意事项</strong>：<br />
在xml文件中，如果只传入一个参数时，可以直接写参数中的属性名来引用对应的属性值。若传入的是多个参数，在引用类中的属性值就必须在属性名前添加 <b>参数名. </b>来指定是哪个参数中的。</p>
</blockquote>
<h2 id="9-项目搭建"><a class="markdownIt-Anchor" href="#9-项目搭建"></a> 9. 项目搭建</h2>
<h3 id="91-环境搭建"><a class="markdownIt-Anchor" href="#91-环境搭建"></a> 9.1 环境搭建</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814223026.png" alt="" /></p>
<h3 id="92-开发规范"><a class="markdownIt-Anchor" href="#92-开发规范"></a> 9.2 开发规范</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814224344.png" alt="" /></p>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>REST是风格，是约定方式，约定不是硬性规定，可以打破。</li>
<li>描述模块的功能通常是复数， 也就是加s的格式来描述，表示此类资源，而非单个资源。如：uers、emps、books……</li>
</ul>
</blockquote>
<h3 id="93-requestmapping"><a class="markdownIt-Anchor" href="#93-requestmapping"></a> 9.3 @RequestMapping</h3>
<ul>
<li>类级别的<b><code>RequestMapping</code></b>定义了所有该类中处理方法的共同URL前缀。</li>
<li>方法级别的<b><code>RequestMapping</code></b>则在类级别的URL基础上进一步细分，指定具体的处理路径（eg：GET、POST）。可以使用更具体的GetMapping、PostMapping等注解替代。<br />
如果不指定，默认情况下任何请求方式都可以访问。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814232320.png" alt="" /></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 使用方法级别的@RequestMapping注解</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/hello"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/hello"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 使用方法级别的@GetMapping、@PostMapping注解</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/api"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">postHello</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Hello, "</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li><b><code>@RequestMapping</code></b>不用必须使用 / 开头</li>
<li><b><code>@RequestMapping</code></b>可以同时指定多个URL路径，用数组表示，如：<code>@RequestMapping(value = &#123;&quot;/hello&quot;, &quot;/hi&quot;&#125;)</code></li>
<li><b><code>@RequestMapping</code></b>可以同时指定多个请求方式，用数组表示，如：<code>@RequestMapping(value = &quot;/hello&quot;, method = &#123;RequestMethod.GET, RequestMethod.POST&#125;)</code></li>
<li><b><code>@RequestMapping</code></b>支持模糊匹配，* 表示任意一层字符串，**表示任意层字符串。</li>
</ul>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">/hello/* -<span class="token operator">></span> /hello/world  /hello/world123 <span class="token punctuation">[</span>不可以是 /hello/world/123<span class="token punctuation">]</span>
/hello/** -<span class="token operator">></span> /hello  /hello/world  /hello/world/123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>方法前必须加上<b><code>@RequestMapping</code></b>注解，就算类上已经添加了<b><code>@RequestMapping</code></b>注解，否则该方法将不会被识别成外部请求。</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/hello"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@RequestMapping</span> <span class="token comment">// 不能省略， url: /hello </span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="94-pagehelper分页插件"><a class="markdownIt-Anchor" href="#94-pagehelper分页插件"></a> 9.4 PageHelper分页插件</h3>
<ul>
<li><strong>导入依赖</strong>：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.github.pagehelper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>pagehelper-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.4.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>使用方法</strong>：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">PageHelper</span><span class="token punctuation">.</span><span class="token function">startPage</span><span class="token punctuation">(</span>pageNum<span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> empMapper<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">></span></span> page <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Emp</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>list<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240814232438.png" alt="" /></p>
<h3 id="95-文件上传"><a class="markdownIt-Anchor" href="#95-文件上传"></a> 9.5 文件上传</h3>
<ul>
<li><strong>简介</strong>：
<ul>
<li>文件上传，是指将本地图片、视频、音频等文件上传到服务器，供其它用户浏览或下载的过程。</li>
<li>文件上传在项目中应用非常广泛，我们经常发微博、发微信朋友圈都用到了文件上传功能。</li>
</ul>
</li>
<li><strong>前端页面</strong>：
<ul>
<li>表单项 type=“file”</li>
<li>表单提交方式 post</li>
<li>表单的enctype属性：multipart/form-data<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240815212704.png" alt="" /></li>
</ul>
</li>
<li><strong>服务端接收文件</strong>：
<ul>
<li><b><code>MultipartFile</code></b>接口
<ul>
<li>String getOriginalFilename()：获取原始文件名</li>
<li>void transferTo(File dest)：将文件保存到指定位置</li>
<li>long getSize()：获取文件大小,单位：字节</li>
<li>byte[] getBytes()：获取文件内容的字节数组</li>
<li>InputStream getInputStream()：获取接收到的文件内容的输入流</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="951-本地仓库"><a class="markdownIt-Anchor" href="#951-本地仓库"></a> 9.5.1 本地仓库</h4>
  <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FileController</span> <span class="token punctuation">&#123;</span>
  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 获取原始文件名</span>
    <span class="token class-name">String</span> originalFilename <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 构建新的文件名</span>
    <span class="token class-name">String</span> newFilename <span class="token operator">=</span> <span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> originalFilename<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>originalFilename<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 将文件保存在服务端 本地仓库 E:/images/ 目录下</span>
    file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"E:/images/"</span> <span class="token operator">+</span> newFilename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>在SpringBoot中，文件上传，默认单个文件允许最大大小为 1M，如果需要上传大文件，可以进行如下配置：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># 在application.yml中配置</span>
<span class="token key atrule">servlet</span><span class="token punctuation">:</span>
  <span class="token key atrule">multipart</span><span class="token punctuation">:</span>
    <span class="token comment"># 配置单个文件最大上传大小</span>
    <span class="token key atrule">max-file-size</span><span class="token punctuation">:</span> 10MB
    <span class="token comment"># 配置单个请求最大上传大小（一次请求可以上传多个文件）</span>
    <span class="token key atrule">max-request-size</span><span class="token punctuation">:</span> 100MB<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="952-阿里云oss"><a class="markdownIt-Anchor" href="#952-阿里云oss"></a> 9.5.2 阿里云OSS</h4>
<ul>
<li><strong>引入阿里云OSS相关依赖</strong>：<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.aliyun.oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>aliyun-sdk-oss<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.17.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.xml.bind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jaxb-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.activation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>activation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- no more than 2.3.3--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.glassfish.jaxb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jaxb-runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>引入阿里云OSS上传文件工具类（由官方的示例代码改造而来）</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818220917.png" alt="" /></li>
<li><strong>上传图片接口开发</strong>：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UploadController</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">/* 本地存储
  @PostMapping("/upload")
  public Result upload(MultipartFile image) throws IOException &#123;

      // 获取原始文件名
      String originalFilename = image.getOriginalFilename();
      // 构建新的文件名
      String newFileName = UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf("."));

      // 将文件保存到本地
      image.transferTo(new File("E:\\Edge下载（定期删除）\\day11-SpringBootWeb案例\\" + newFileName));
      return Result.success();
  &#125;*/</span>
  <span class="token annotation punctuation">@Autowired</span>
  <span class="token keyword">private</span> <span class="token class-name">AliOSSUtils</span> aliOSSUtils<span class="token punctuation">;</span>

  <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/upload"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">MultipartFile</span> image<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>
      log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"文件上传，文件名：&#123;&#125;"</span><span class="token punctuation">,</span>image<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">String</span> url <span class="token operator">=</span> aliOSSUtils<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
      log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"文件上传完成，文件访问的url：&#123;&#125;"</span><span class="token punctuation">,</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="96-配置文件"><a class="markdownIt-Anchor" href="#96-配置文件"></a> 9.6 配置文件</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816100225.png" alt="" /></p>
<ul>
<li><strong>yml文件基本语法</strong>：
<ul>
<li>大小写敏感</li>
<li>数值前边必须有空格，作为分隔符</li>
<li>使用缩进表示层级关系，缩进时，不允许使用Tab键，只能使用空格（idea中会自动将Tab键转换为空格）</li>
<li>缩进的空格数目不重要，只要相同层级的元素左对齐即可</li>
<li># 表示注解，从这个字符开始到行尾，都是注释，不会被解析</li>
</ul>
</li>
</ul>
<h3 id="97-外部配置注入"><a class="markdownIt-Anchor" href="#97-外部配置注入"></a> 9.7 外部配置注入</h3>
<p>在Spring框架中，<code>@Value</code>和<code>@ConfigurationProperties</code>注解用于将外部配置的值注入到Spring管理的Bean中。它们的使用场景和功能有所不同，下面分别讲解它们的作用和使用方法。</p>
<ul>
<li>
<p><b><code>@Value</code> 注解</b><br />
<code>@Value</code>注解用于将配置文件中的单个属性值注入到Spring Bean的字段或方法中。它通常用于注入简单的属性值，比如字符串、数值等。</p>
<ol>
<li><strong>基本语法</strong>：</li>
</ol>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;property.key&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> propertyValue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>其中<code>$&#123;property.key&#125;</code>表示从配置文件（如<code>application.properties</code>或<code>application.yml</code>）中读取指定键的值。</p>
<ol start="2">
<li><strong>默认值</strong>：<br />
可以在<code>@Value</code>注解中指定一个默认值，当配置文件中找不到相应的键时，使用默认值：</li>
</ol>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;property.key:defaultValue&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> propertyValue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="3">
<li><strong>复杂表达式</strong>：<br />
<code>@Value</code>也可以使用Spring表达式语言（SpEL）来处理复杂的值：</li>
</ol>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#&#123;T(java.lang.Math).random() * 100&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">double</span> randomValue<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ol start="4">
<li><strong>使用示例</strong><br />
假设在<code>application.properties</code>文件中有以下配置：</li>
</ol>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">app.name</span><span class="token punctuation">=</span><span class="token value attr-value">MyApp</span>
<span class="token key attr-name">app.version</span><span class="token punctuation">=</span><span class="token value attr-value">1.0.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>可以在Bean中使用<code>@Value</code>注解注入这些值：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;app.name&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> appName<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;app.version&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> appVersion<span class="token punctuation">;</span>

    <span class="token comment">// getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><b><code>@ConfigurationProperties</code> 注解 </b><br />
<code>@ConfigurationProperties</code>用于将<strong>一组相关的配置属性</strong>绑定到一个Java类的属性上。它可以将配置文件中的属性自动映射到类的字段中，尤其适用于需要处理一组复杂或嵌套配置的场景。</p>
<ol>
<li><strong>基本语法</strong>：<br />
定义一个类来对应配置文件中的一组属性：</li>
</ol>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppProperties</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> version<span class="token punctuation">;</span>

    <span class="token comment">// getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>prefix = &quot;app&quot;</code>表示这个类将映射<code>application.properties</code>或<code>application.yml</code>中以<code>app</code>开头的属性。</p>
<ol start="2">
<li><strong>启用<code>@ConfigurationProperties</code></strong>：<br />
通常需要使用<code>@EnableConfigurationProperties</code>注解或<code>@Component</code>来让Spring管理这个配置类：</li>
</ol>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">AppProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 其他配置</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>或者在配置类上直接使用<code>@Component</code>：</p>
 <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span> <span class="token comment">// 如果已经在配置类中使用了@EnableConfigurationProperties，则不需要再使用@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppProperties</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// fields, getters, setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>使用示例<br />
假设在<code>application.properties</code>文件中有以下配置：</li>
</ol>
<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">app.name</span><span class="token punctuation">=</span><span class="token value attr-value">MyApp</span>
<span class="token key attr-name">app.version</span><span class="token punctuation">=</span><span class="token value attr-value">1.0.0</span>
<span class="token key attr-name">app.details.description</span><span class="token punctuation">=</span><span class="token value attr-value">This is a demo application.</span>
<span class="token key attr-name">app.details.author</span><span class="token punctuation">=</span><span class="token value attr-value">John Doe</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以定义一个类来映射这些配置：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppProperties</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> version<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Details</span> details <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Details</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Details</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>

        <span class="token comment">// getters and setters</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// getters and setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这样，<code>AppProperties</code>类中的字段会自动映射到配置文件中的相应属性值。</p>
</li>
</ul>
<blockquote>
<p><strong>主要区别</strong></p>
<ul>
<li><strong>粒度</strong>：<code>@Value</code>用于注入单个属性值，而<code>@ConfigurationProperties</code>更适合注入一组相关的属性。</li>
<li><strong>类型安全</strong>：<code>@ConfigurationProperties</code>支持类型安全的配置绑定，并且可以通过构建复杂对象来映射嵌套属性，而<code>@Value</code>只能注入简单的属性值。</li>
<li><strong>可维护性</strong>：<code>@ConfigurationProperties</code>有助于将配置集中管理，并且对属性进行结构化处理，这对大型项目的配置管理更为友好。</li>
<li><strong>@Value的局限性</strong>：<code>@Value</code>只能注入单个属性值，不能注入集合、数组等。<br />
<strong>选择建议</strong></li>
<li>当需要注入单个或少量的配置值时，使用<code>@Value</code>。</li>
<li>当需要注入大量相关配置或希望将配置分组时，使用<code>@ConfigurationProperties</code>。</li>
</ul>
</blockquote>
<p>在Spring框架中，<code>@PropertySource</code>和<code>@ConfigurationProperties</code>都涉及配置属性的管理，但它们的作用和使用场景有所不同，不能简单地认为它们是类似的。<br />
<strong><code>@PropertySource</code>的作用</strong></p>
<ul>
<li><strong>用途</strong>：<code>@PropertySource</code>主要用于<strong>加载自定义的属性文件</strong>（如<code>.properties</code>文件）到Spring的<code>Environment</code>中。通过这个注解，Spring能够识别和使用这些属性文件中的键值对。</li>
<li><strong>典型场景</strong>：
<ul>
<li>
<p>当你的配置文件不是默认的<code>application.properties</code>或<code>application.yml</code>，而是自定义的文件时，需要用<code>@PropertySource</code>来加载这个文件。</p>
</li>
<li>
<p>例如，如果你有一个名为<code>custom.properties</code>的文件，且希望Spring加载其中的配置项，那么可以使用<code>@PropertySource</code>注解：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:custom.properties"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 配置类内容</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
<li><strong>配合<code>@Value</code>使用</strong>：<code>@PropertySource</code>通常与<code>@Value</code>注解配合使用，从加载的属性文件中读取具体的属性值并注入到Bean的字段中。</li>
</ul>
<p><strong><code>@ConfigurationProperties</code>的作用</strong></p>
<ul>
<li><strong>用途</strong>：<code>@ConfigurationProperties</code>用于将<strong>一组相关的配置属性</strong>绑定到一个Java类的属性上。它可以将配置文件中的属性自动映射到类的字段中，尤其适用于需要处理一组复杂或嵌套配置的场景。</li>
<li><strong>典型场景</strong>：
<ul>
<li>当你有一组相关的配置项，比如与应用程序、数据库、消息队列等相关的多个配置项时，可以使用<code>@ConfigurationProperties</code>将这些配置项整合到一个专门的配置类中。</li>
<li>例如，假设有以下配置：<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">app.name</span><span class="token punctuation">=</span><span class="token value attr-value">MyApp</span>
<span class="token key attr-name">app.version</span><span class="token punctuation">=</span><span class="token value attr-value">1.0.0</span>
<span class="token key attr-name">app.details.description</span><span class="token punctuation">=</span><span class="token value attr-value">This is a description</span>
<span class="token key attr-name">app.details.author</span><span class="token punctuation">=</span><span class="token value attr-value">John Doe</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
可以使用<code>@ConfigurationProperties</code>将这些属性映射到类中：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppProperties</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> version<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Details</span> details <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Details</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Details</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>
        <span class="token comment">// Getters and Setters</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// Getters and Setters</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong><code>@PropertySource</code> vs. <code>@ConfigurationProperties</code></strong></p>
<ul>
<li><strong><code>@PropertySource</code></strong>：负责告诉Spring从哪里加载配置文件，并与<code>@Value</code>结合使用，允许单独注入具体的配置值。<code>@PropertySource</code>只加载属性文件，不负责属性的绑定和注入。</li>
<li><strong><code>@ConfigurationProperties</code></strong>：负责将一组相关的配置属性映射到一个Java类中，通常用于处理结构化的、较复杂的配置。<code>@ConfigurationProperties</code>不仅加载属性，还绑定它们到类的字段上，使配置的管理更加方便和结构化。</li>
</ul>
<p><strong>总结</strong></p>
<ul>
<li><strong>相似点</strong>：两者都与配置属性的处理有关，但<code>@PropertySource</code>更侧重于属性文件的加载，而<code>@ConfigurationProperties</code>侧重于属性值的绑定和管理。</li>
<li><strong>使用场景不同</strong>：<code>@PropertySource</code>用于从自定义的文件加载属性，而<code>@ConfigurationProperties</code>则用于将这些属性整合到Java类中进行统一管理。</li>
</ul>
</blockquote>
<h3 id="98-登录校验"><a class="markdownIt-Anchor" href="#98-登录校验"></a> 9.8 登录校验</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816154423.png" alt="" /></p>
<h4 id="981-会话技术"><a class="markdownIt-Anchor" href="#981-会话技术"></a> 9.8.1 会话技术</h4>
<ul>
<li><strong>会话</strong>：用户打开浏览器，访问web服务器的资源，会话建立，直到有一方断开连接，会话结束。在一次会话中可以包含<strong>多次</strong>请求和响应。</li>
<li><strong>会话跟踪</strong>：一种维护浏览器状态的方法，服务器需要识别多次请求是否来自同一浏览器，以便在同一次会话的多次请求间<strong>共享数据</strong>。</li>
<li><strong>会话跟踪方案</strong>：
<ul>
<li>客户端会话跟踪技术：Cookie</li>
<li>服务器会话跟踪技术：Session</li>
<li>令牌技术：Token<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816161533.png" alt="" /></li>
</ul>
</li>
</ul>
<p><strong>Cookie</strong>：</p>
<ol>
<li>
<p><strong>什么是Cookie？</strong><br />
Cookie是由服务器生成并发送到客户端（浏览器）的小型文本文件。客户端会将这些Cookie存储在本地，并在每次访问相同服务器时将它们包含在HTTP请求中，发送回服务器。</p>
</li>
<li>
<p><strong>Cookie的工作原理</strong></p>
</li>
</ol>
<ul>
<li>
<p><strong>生成和存储</strong>：当用户第一次访问网站时，服务器可以生成一个或多个Cookie，并通过HTTP响应头将它们发送到客户端。客户端浏览器接收到这些Cookie后，会根据服务器指示（如<code>Expires</code>或<code>Max-Age</code>属性）将Cookie存储在本地。</p>
</li>
<li>
<p><strong>发送Cookie</strong>：在用户的后续请求中，浏览器会自动将与该域名匹配的所有Cookie附加到HTTP请求中，发送给服务器。服务器可以读取这些Cookie的值，以便识别用户的身份或保持会话状态。</p>
</li>
<li>
<p><strong>Cookie属性</strong>：</p>
<ul>
<li><code>Name=Value</code>：Cookie的名称和值，浏览器会在后续请求中发送这些信息。</li>
<li><code>Domain</code>：指定Cookie属于哪个域名，浏览器只会在访问该域名时发送此Cookie。</li>
<li><code>Path</code>：指定Cookie适用的路径，只有访问此路径或子路径时，Cookie才会被发送。</li>
<li><code>Expires/Max-Age</code>：设置Cookie的过期时间，决定Cookie在客户端存储的时长。</li>
<li><code>HttpOnly</code>：防止客户端脚本访问Cookie，增加安全性。</li>
<li><code>Secure</code>：指示Cookie只能通过HTTPS发送，防止Cookie在传输过程中被截获。</li>
<li><code>SameSite</code>：防止跨站请求伪造攻击（CSRF）。</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>Cookie的应用场景</strong></li>
</ol>
<ul>
<li><strong>会话管理</strong>：保存用户登录状态，跟踪用户在网站上的活动。</li>
<li><strong>个性化设置</strong>：保存用户偏好，如主题、语言选择等。</li>
<li><strong>跟踪和分析</strong>：用于广告跟踪、用户行为分析等。</li>
</ul>
<ol start="4">
<li><strong>Cookie的优缺点</strong></li>
</ol>
<ul>
<li>
<p><strong>优点</strong>：</p>
<ul>
<li>易于使用：可以在客户端和服务器之间简单地传递信息。</li>
<li>跨请求保持状态：允许在多个请求之间保持状态（如用户登录状态）。</li>
</ul>
</li>
<li>
<p><strong>缺点</strong>：</p>
<ul>
<li>安全性问题：存储在客户端，容易被篡改或窃取。</li>
<li>数据量有限：通常一个Cookie的大小限制为4KB，且总数有限。</li>
<li>性能影响：每次请求都会带上Cookie，可能影响带宽和性能。</li>
<li>不能跨域。</li>
</ul>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816161757.png" alt="" /></p>
<ul>
<li><strong>样例</strong></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CookieController</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// 设置Cookie</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/c1"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">cookie1</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"login_username"</span><span class="token punctuation">,</span> <span class="token string">"itheima"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置Cookie/响应Cookie</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 获取Cookie 两种方法</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/c2"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">cookie2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"login_username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"login_username:&#123;&#125;"</span><span class="token punctuation">,</span>cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"未找到指定Cookie"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/c3"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">cookie3</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">"login_username"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>Session</strong>：</p>
<ol>
<li>
<p><strong>什么是Session？</strong><br />
Session是服务器端的一种会话机制，用于跟踪和保存用户的状态和数据。与Cookie不同，Session数据存储在服务器端，客户端只保留一个标识符（通常是Session ID）。</p>
</li>
<li>
<p><strong>Session的工作原理</strong></p>
</li>
</ol>
<ul>
<li>
<p><strong>生成Session</strong>：当用户访问服务器时，服务器会创建一个Session，并生成一个唯一的Session ID。这个Session ID会通过Cookie或URL参数传递给客户端。</p>
</li>
<li>
<p><strong>存储和检索</strong>：服务器将与该Session相关的数据存储在服务器端（如内存、数据库或文件系统）。当客户端再次发送请求时，会带上Session ID，服务器根据这个ID检索相应的Session数据。</p>
</li>
<li>
<p><strong>Session的生命周期</strong>：</p>
<ul>
<li><strong>创建</strong>：Session在用户首次访问时创建，并分配一个唯一的Session ID。</li>
<li><strong>过期</strong>：Session有一定的有效期（可配置），当用户长时间不活动，Session会自动过期和销毁。</li>
<li><strong>销毁</strong>：用户主动登出或Session过期后，Session数据会从服务器端删除。</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>Session的应用场景</strong></li>
</ol>
<ul>
<li><strong>用户认证</strong>：保存用户登录信息，确保用户在会话期间不需要重复登录。</li>
<li><strong>购物车功能</strong>：保存用户的购物车内容，在整个会话期间保持一致。</li>
<li><strong>用户跟踪</strong>：跟踪用户在网站上的操作，并根据这些操作做出响应。</li>
</ul>
<ol start="4">
<li><strong>Session的优缺点</strong></li>
</ol>
<ul>
<li>
<p><strong>优点</strong>：</p>
<ul>
<li><strong>安全性较高</strong>：由于Session数据存储在服务器端，不容易被用户篡改或窃取。</li>
<li><strong>支持复杂数据</strong>：可以在Session中存储复杂的对象和数据结构。</li>
<li><strong>保持状态</strong>：适合需要在多个请求之间保持复杂状态的应用。</li>
</ul>
</li>
<li>
<p><strong>缺点</strong>：</p>
<ul>
<li><strong>占用服务器资源</strong>：每个用户的Session数据都存储在服务器上，用户数量多时可能导致服务器资源消耗过大。</li>
<li><strong>扩展性问题</strong>：在分布式系统中，Session管理较为复杂，需要采取措施（如Session共享、Session粘性）来保证用户会话的一致性。</li>
</ul>
</li>
<li>
<p><strong>样例</strong></p>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionController</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">// 往HttpSession中存储值</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/s1"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">session1</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"HttpSession-s1:&#123;&#125;"</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"loginUser"</span><span class="token punctuation">,</span> <span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 往session中存储数据</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// 往HttpSession中获取值</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">session2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"HttpSession-s2:&#123;&#125;"</span><span class="token punctuation">,</span> session<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> loginUser <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"loginUser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从session中获取数据</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"loginUser:&#123;&#125;"</span><span class="token punctuation">,</span> loginUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>loginUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816164049.png" alt="" /></p>
<p><strong>JWT</strong>：<br />
JWT（JSON Web Token）是一种常用的认证机制，它允许在网络应用中安全地在客户端和服务器之间传递信息。与Cookie和Session相比，JWT有着独特的工作方式和应用场景。</p>
<ol>
<li><strong>什么是JWT？</strong><br />
JWT是一种开放标准（RFC 7519），用于在各方之间作为JSON对象安全传输信息。信息可以被验证和信任，因为它是数字签名的。JWT通常用于认证和授权。</li>
<li><strong>JWT的工作原理</strong></li>
</ol>
<ul>
<li>
<p><strong>生成JWT</strong>：当用户成功登录后，服务器会生成一个JWT。这个Token由三部分组成：<strong>Header（头部）</strong>、<strong>Payload（负载）<strong>和</strong>Signature（签名）</strong>。</p>
<ul>
<li><strong>Header</strong>：指定Token的类型（通常是JWT）和签名算法（如HMAC SHA256或RSA）。例如：{“alg”:“HS256”,“type”:“JWT”}</li>
<li><strong>Payload</strong>：包含声明（Claims），即需要传输的用户信息、默认信息或其他数据。这些数据是公开的，任何人都可以解码查看。例如：{“id”:1,“username”:“Tom”}</li>
<li><strong>Signature</strong>：由Header和Payload通过指定的算法加密生成，用于验证Token的真实性，确保安全性。</li>
</ul>
</li>
<li>
<p><strong>生成的JWT通常类似这样</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816174046.png" alt="" /></p>
</li>
<li>
<p><strong>测试样例</strong>：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">// 在pom.xml中添加依赖：</span>
 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token constant">JWT</span>配置<span class="token operator">--</span><span class="token operator">></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">></span></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">></span></span>io<span class="token punctuation">.</span>jsonwebtoken<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">></span></span>jjwt<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>
		<span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">></span></span><span class="token number">0.9</span><span class="token number">.1</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 请检查最新版本号 <span class="token operator">--</span><span class="token operator">></span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span>
 <span class="token comment">// 测试样例</span>
 <span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">genjwt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> claims <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	claims<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> jwt <span class="token operator">=</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">setClaims</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span> <span class="token comment">// 自定义内容(载荷)</span>
			<span class="token punctuation">.</span><span class="token function">signWith</span><span class="token punctuation">(</span><span class="token class-name">SignatureAlgorithm</span><span class="token punctuation">.</span><span class="token constant">HS256</span><span class="token punctuation">,</span> <span class="token string">"lusy"</span><span class="token punctuation">)</span><span class="token comment">// 签名算法</span>
			<span class="token punctuation">.</span><span class="token function">setExpiration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 有效期 单位 ms</span>
			<span class="token punctuation">.</span><span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jwt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>传递JWT</strong>：JWT生成后，服务器会将其返回给客户端。客户端通常将JWT存储在<code>Local Storage</code>、<code>Session Storage</code>或Cookie中。</p>
</li>
<li>
<p><strong>验证JWT</strong>：在后续请求中，客户端会将JWT包含在请求头（通常是<code>Authorization: Bearer &lt;token&gt;</code>）中发送给服务器。服务器接收到JWT后，会使用相同的签名算法和密钥验证Token的真实性，并从Payload中提取用户信息。</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">parseJwt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token class-name">Claims</span> claims <span class="token operator">=</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span><span class="token string">"lusy"</span><span class="token punctuation">)</span><span class="token comment">// 指定签名秘钥</span>
			<span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span><span class="token string">"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6IjEiLCJleHAiOjE3MjM4NDk2MzIsInVzZXJuYW1lIjoiVG9tIn0.KrQ-8Y4ISZds9DZ_OHaXvrrLM-4By84ngwV8vz9A6bE"</span><span class="token punctuation">)</span><span class="token comment">// 解析令牌</span>
			<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>JWT校验时使用的签名秘钥，必须和生成的JWT令牌时使用的秘钥是配套的。</li>
<li>如果JWT令牌解析校验时报错，则说明JWT令牌被篡改或失效了，令牌非法。</li>
</ul>
</blockquote>
<ol start="3">
<li><strong>JWT的应用场景</strong></li>
</ol>
<ul>
<li>
<p><strong>用户认证</strong>：在用户登录成功后，服务器生成JWT并返回给客户端。客户端在后续请求中携带这个JWT，以证明自己的身份。</p>
</li>
<li>
<p><strong>授权</strong>：服务器可以在JWT的Payload中包含用户的权限信息（如角色、权限范围），以决定用户能访问哪些资源。</p>
</li>
<li>
<p><strong>信息交换</strong>：JWT可以安全地传输信息，因为它是经过签名的，接收方可以验证信息的来源和完整性。</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816191747.png" alt="" /></p>
<ol start="4">
<li><strong>JWT的优缺点</strong></li>
</ol>
<ul>
<li>
<p><strong>优点</strong>：</p>
<ul>
<li><strong>无状态</strong>：JWT是无状态的，不需要在服务器端存储会话信息，这使得它非常适合分布式系统。</li>
<li><strong>跨域支持</strong>：JWT不依赖于Cookie，因此可以在不同域名之间轻松传递。</li>
<li><strong>可扩展性</strong>：JWT的Payload部分可以包含自定义的声明，灵活性高。</li>
</ul>
</li>
<li>
<p><strong>缺点</strong>：</p>
<ul>
<li><strong>安全性风险</strong>：JWT的Payload部分是可见的，尽管它是签名的，但不能加密。如果存储敏感信息，可能会有安全隐患。</li>
<li><strong>Token大小</strong>：JWT通常比传统的Session ID大，因为它包含了更多信息，这可能增加网络传输的开销。</li>
<li><strong>Token管理</strong>：一旦JWT被签发，服务器无法主动撤销Token的权限，除非采用额外的策略（如Token黑名单）。</li>
</ul>
</li>
</ul>
<p><strong>会话跟踪方案对比</strong><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816191918.png" alt="" /></p>
<h4 id="982-过滤器filter"><a class="markdownIt-Anchor" href="#982-过滤器filter"></a> 9.8.2 过滤器Filter</h4>
<ul>
<li>
<p><strong>概述</strong>：</p>
<ul>
<li>概念：Filter 过滤器，是JavaWeb三大组件(Servlet,Filter,Listener)之一。</li>
<li>过滤器可以把对资源的请求拦截下来，从而实现一些特殊的功能。</li>
<li>过滤器一般完成一些通用的操作，比如：登录校验，统一编码处理、敏感字符处理等。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816192401.png" alt="" /></li>
</ul>
</li>
<li>
<p><strong>快速入门</strong>：</p>
<ol>
<li>创建一个Filter类，实现Filter接口，重写接口中的方法。</li>
<li>配置Filter：Filter类加上<code>@WebFilter</code>注解，配置拦截资源的路径，引导类上加<code>@ServletComponentScan</code>注解开启Servlet组件支持。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816192829.png" alt="" /></li>
</ol>
</li>
<li>
<p><strong>拦截路径</strong>：<br />
Filter可以根据需求，配置不同的拦截资源路径：</p>
<table>
<thead>
<tr>
<th style="text-align:left">拦截路径</th>
<th style="text-align:left">urlPatterns值</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">拦截具体路径</td>
<td style="text-align:left"><code>/login</code></td>
<td style="text-align:left">只有访问 <code>/login</code> 路径时，才会被拦截</td>
</tr>
<tr>
<td style="text-align:left">目录拦截</td>
<td style="text-align:left"><code>/emps/*</code></td>
<td style="text-align:left">访问 <code>/emps/</code> 下的所有资源，都会被拦截</td>
</tr>
<tr>
<td style="text-align:left">拦截所有</td>
<td style="text-align:left"><code>/*</code></td>
<td style="text-align:left">访问所有资源，都会被拦截</td>
</tr>
</tbody>
</table>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/*"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p><strong>执行流程</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816193703.png" alt="" /></p>
</li>
<li>
<p><strong>过滤器链</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816193903.png" alt="" /></p>
<blockquote>
<p><strong>注意</strong>：<br />
存在多个过滤器时，过滤器的执行顺序是按照过滤器配置的顺序执行的。但如果没有明确指定执行顺序（例如通过@Order注解），那么容器通常会根据类名的字典顺序（字母顺序）来决定过滤器的执行顺序。</p>
</blockquote>
</li>
</ul>
<h4 id="983-拦截器interceptor"><a class="markdownIt-Anchor" href="#983-拦截器interceptor"></a> 9.8.3 拦截器(Interceptor)</h4>
<ul>
<li><strong>概述</strong>：
<ul>
<li>概念：是一种动态拦截方法调用的机制，类似于过滤器。Spring框架中提供的，用来动态拦截控制器方法的执行。</li>
<li>作用：拦截请求，在指定的方法调用前后，根据业务需要执行预先设定的代码。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202319.png" alt="" /></li>
</ul>
</li>
<li><strong>快速入门</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202449.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202458.png" alt="" /></li>
<li><strong>拦截器可以根据需求，配置不同的拦截路径</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202719.png" alt="" /></li>
<li><strong>执行流程</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202805.png" alt="" /></li>
<li><strong>多个拦截器执行顺序</strong>：
<ol>
<li><strong>preHandle() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置顺序调用各个 preHandle() 方法。</li>
<li><strong>postHandle() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 postHandle() 方法。</li>
<li><strong>afterCompletion() 方法</strong>：SpringMVC 会把所有拦截器收集到一起，然后按照配置相反的顺序调用各个 afterCompletion() 方法。</li>
</ol>
</li>
</ul>
<h4 id="984-异常处理"><a class="markdownIt-Anchor" href="#984-异常处理"></a> 9.8.4 异常处理</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816202951.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240816203024.png" alt="" /></p>
<h3 id="99-参数校验"><a class="markdownIt-Anchor" href="#99-参数校验"></a> 9.9 参数校验</h3>
<blockquote>
<p>在 Web 应用三层架构体系中，表述层负责接收浏览器提交的数据，业务逻辑层负责数据的处理。为了能够让业务逻辑层基于正确的数据进行处理，我们需要在表述层对数据进行检查，将错误的数据隔绝在业务逻辑层之外。</p>
</blockquote>
<p><strong>校验概述</strong><br />
JSR 303 是 Java 为 Bean 数据合法性校验提供的标准框架，它已经包含在 JavaEE 6.0 标准中。JSR 303 通过在 Bean 属性上标注类似于 @NotNull、@Max 等标准的注解指定校验规则，并过标准的验证接口对Bean进行验证。</p>
<table>
<thead>
<tr>
<th>注解</th>
<th>规则</th>
</tr>
</thead>
<tbody>
<tr>
<td><b><code>@Null</code></b></td>
<td>标注值必须为 null</td>
</tr>
<tr>
<td><b><code>@NotNull</code></b></td>
<td>标注值不可为 null</td>
</tr>
<tr>
<td><b><code>@AssertTrue</code></b></td>
<td>标注值必须为 true</td>
</tr>
<tr>
<td><b><code>@AssertFalse</code></b></td>
<td>标注值必须为 false</td>
</tr>
<tr>
<td><b><code>@Min(value)</code></b></td>
<td>标注值必须大于或等于 value</td>
</tr>
<tr>
<td><b><code>@Max(value)</code></b></td>
<td>标注值必须小于或等于 value</td>
</tr>
<tr>
<td><b><code>@DecimalMin(value)</code></b></td>
<td>标注值必须大于或等于 value</td>
</tr>
<tr>
<td><b><code>@DecimalMax(value)</code></b></td>
<td>标注值必须小于或等于 value</td>
</tr>
<tr>
<td><b><code>@Size(max,min)</code></b></td>
<td>标注值大小必须在 max 和 min 限定的范围内</td>
</tr>
<tr>
<td><b><code>@Digits(integer,fratction)</code></b></td>
<td>标注值值必须是一个数字，且必须在可接受的范围内</td>
</tr>
<tr>
<td><b><code>@Past</code></b></td>
<td>标注值只能用于日期型，且必须是过去的日期</td>
</tr>
<tr>
<td><b><code>@Future</code></b></td>
<td>标注值只能用于日期型，且必须是将来的日期</td>
</tr>
<tr>
<td><b><code>@Pattern(value)</code></b></td>
<td>标注值必须符合指定的正则表达式</td>
</tr>
</tbody>
</table>
<p>JSR 303 只是一套标准，需要提供其实现才可以使用。Hibernate Validator 是 JSR 303 的一个参考实现，除支持所有标准的校验注解外，它还支持以下的扩展注解：</p>
<table>
<thead>
<tr>
<th>注解</th>
<th>规则</th>
</tr>
</thead>
<tbody>
<tr>
<td><b><code>@Email</code></b></td>
<td>标注值必须是格式正确的 Email 地址</td>
</tr>
<tr>
<td><b><code>@Length</code></b></td>
<td>标注值字符串大小必须在指定的范围内</td>
</tr>
<tr>
<td><b><code>@NotEmpty</code></b></td>
<td>标注值字符串不能是空字符串</td>
</tr>
<tr>
<td><b><code>@Range</code></b></td>
<td>标注值必须在指定的范围内</td>
</tr>
</tbody>
</table>
<p>Spring 4.0 版本已经拥有自己独立的数据校验框架，同时支持 JSR 303 标准的校验框架。Spring 在进行数据绑定时，可同时调用校验框架完成数据校验工作。在SpringMVC 中，可直接通过注动 <b><code>@EnableWebMvc</code></b> 的方式进行数据校验。Spring 的 LocalValidatorFactoryBean 既实现了 Spring 的 Validator 接口，也实现了 JSR 303 的 Validator 接口。只要在Spring容器定义一个LocalValidatorFactoryBean，即可将其注入到需要数据校验的 Bean中。Spring本身并没有提供JSR 303的实现，所以必须将JSR 303的实现者的jar包放到类路径下。</p>
<p>配置 <b><code>@EnableWebMvc</code></b> 后，SpringMVC 会默认装配好一个 LocalValidatorFactoryBean，通过在处理方法的入参上标注 @Validated 注解即可让 SpringMVC 在完成数据绑定后执行数据校验的作。<br />
<strong>操作演示</strong></p>
<ul>
<li><strong>导入依赖</strong></li>
</ul>
  <pre class="line-numbers language-XML" data-language="XML"><code class="language-XML">&lt;!-- 校验注解 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;jakarta.platform&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;&#x2F;artifactId&gt;
    &lt;version&gt;9.1.0&lt;&#x2F;version&gt;
    &lt;scope&gt;provided&lt;&#x2F;scope&gt;
&lt;&#x2F;dependency&gt;

&lt;!-- 校验注解实现--&gt;        
&lt;!-- https:&#x2F;&#x2F;mvnrepository.com&#x2F;artifact&#x2F;org.hibernate.validator&#x2F;hibernate-validator --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate.validator&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;hibernate-validator&lt;&#x2F;artifactId&gt;
    &lt;version&gt;8.0.0.Final&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;
&lt;!-- https:&#x2F;&#x2F;mvnrepository.com&#x2F;artifact&#x2F;org.hibernate.validator&#x2F;hibernate-validator-annotation-processor --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate.validator&lt;&#x2F;groupId&gt;
    &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;&#x2F;artifactId&gt;
    &lt;version&gt;8.0.0.Final&lt;&#x2F;version&gt;
&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>应用校验注解</strong></li>
</ul>
  <pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.Min;
import org.hibernate.validator.constraints.Length;

&#x2F;**
 * projectName: com.atguigu.pojo
 *&#x2F;
public class User &#123;
    &#x2F;&#x2F;age   1 &lt;&#x3D;  age &lt; &#x3D; 150
    @Min(10)
    private int age;

    &#x2F;&#x2F;name 3 &lt;&#x3D; name.length &lt;&#x3D; 6
    @Length(min &#x3D; 3,max &#x3D; 10)
    private String name;

    &#x2F;&#x2F;email 邮箱格式
    @Email
    private String email;

    public int getAge() &#123;
        return age;
    &#125;

    public void setAge(int age) &#123;
        this.age &#x3D; age;
    &#125;

    public String getName() &#123;
        return name;
    &#125;

    public void setName(String name) &#123;
        this.name &#x3D; name;
    &#125;

    public String getEmail() &#123;
        return email;
    &#125;

    public void setEmail(String email) &#123;
        this.email &#x3D; email;
    &#125;
&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>handler标记和绑定错误收集</strong></li>
</ul>
  <pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">@RestController
@RequestMapping(&quot;user&quot;)
public class UserController &#123;

    &#x2F;**
     * @Validated 代表应用校验注解! 必须添加!
     *&#x2F;
    @PostMapping(&quot;save&quot;)
    public Object save(@Validated @RequestBody User user,
                       &#x2F;&#x2F;在实体类参数和 BindingResult 之间不能有任何其他参数, BindingResult可以接受错误信息,避免信息抛出!
                       BindingResult result)&#123;
       &#x2F;&#x2F;判断是否有信息绑定错误! 有可以自行处理!
        if (result.hasErrors())&#123;
            System.out.println(&quot;错误&quot;);
            String errorMsg &#x3D; result.getFieldError().toString();
            return errorMsg;
        &#125;
        &#x2F;&#x2F;没有,正常处理业务即可
        System.out.println(&quot;正常&quot;);
        return user;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li><strong>测试效果</strong><br />
<img src="https://secure2.wostatic.cn/static/oXLwvcaMaLc4TggmPFNToV/image.png?auth_key=1724517030-iDRnH6dkdc56wHJRoTSLmQ-0-4a74de68941be939573820ba54202593" alt="" /></li>
</ul>
<blockquote><p><strong>易混总结</strong><br />
@NotNull、@NotEmpty、@NotBlank 都是用于在数据校验中检查字段值是否为空的注解，但是它们的用法和校验规则有所不同。</p>
<ol>
<li>
<p>@NotNull  (包装类型不为null)</p>
<p>@NotNull 注解是 JSR 303 规范中定义的注解，当被标注的字段值为 null 时，会认为校验失败而抛出异常。该注解不能用于字符串类型的校验，若要对字符串进行校验，应该使用 @NotBlank 或 @NotEmpty 注解。</p>
</li>
<li>
<p>@NotEmpty (集合类型长度大于0)</p>
<p>@NotEmpty 注解同样是 JSR 303 规范中定义的注解，对于 CharSequence、Collection、Map 或者数组对象类型的属性进行校验，校验时会检查该属性是否为 Null 或者 size()==0，如果是的话就会校验失败。但是对于其他类型的属性，该注解无效。需要注意的是只校验空格前后的字符串，如果该字符串中间只有空格，不会被认为是空字符串，校验不会失败。</p>
</li>
<li>
<p>@NotBlank （字符串，不为null，切不为&quot;  &quot;字符串）</p>
<p>@NotBlank 注解是 Hibernate Validator 附加的注解，对于字符串类型的属性进行校验，校验时会检查该属性是否为 Null 或 “” 或者只包含空格，如果是的话就会校验失败。需要注意的是，@NotBlank 注解只能用于字符串类型的校验。</p>
</li>
</ol>
<p>总之，这三种注解都是用于校验字段值是否为空的注解，但是其校验规则和用法有所不同。在进行数据校验时，需要根据具体情况选择合适的注解进行校验。</p>
</blockquote>
<h2 id="10-事务管理"><a class="markdownIt-Anchor" href="#10-事务管理"></a> 10. 事务管理</h2>
<h3 id="101-事务回顾"><a class="markdownIt-Anchor" href="#101-事务回顾"></a> 10.1 事务回顾</h3>
<ul>
<li><strong>概念</strong>：事务是一组操作的集合，它是一个不可分割的工作单位，这些操作<font color="red">要么同时成功，要么同时失败</font></li>
<li><strong>操作</strong>：
<ul>
<li><strong>开启事务（一组操作开始前，开启事务）</strong>：<b><code>start transaction / begin</code>;</b></li>
<li><strong>提交事务（这组操作全部成功后，提交事务）</strong>：<b><code>commit</code>;</b></li>
<li><strong>回滚事务（中间任何一个操作出现异常，回滚事务）</strong>：<b><code>rollback</code>;</b></li>
</ul>
</li>
</ul>
<h3 id="102-spring事务管理"><a class="markdownIt-Anchor" href="#102-spring事务管理"></a> 10.2 Spring事务管理</h3>
<ul>
<li>
<p><strong>注解</strong>：<b><code>@Transactional</code></b></p>
</li>
<li>
<p><strong>位置</strong>：业务(Service)层的方法上、类上、接口上</p>
</li>
<li>
<p><strong>作用</strong>：将当前方法交给Spring进行事务管理，方法执行前，开启事务；成功执行完毕，提交事务；出现异常，回滚事务<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817205221.png" alt="" /></p>
</li>
<li>
<p><strong>属性</strong>：</p>
<ul>
<li><b><code>rollbackFor</code>回滚</b>：默认情况下，只有出现<b><code>RuntimeException</code></b>才会回滚异常，<code>rollbackFor</code>属性用于控制出现何种异常类型，回滚事务</li>
<li><b><code>noRollbackFor</code>不回滚</b>：指定哪些异常不会回滚, 默认没有指定,如果指定,应该在rollbackFor的范围内!<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817205844.png" alt="" /></li>
</ul>
<blockquote>
<p>如果<code>rollbackFor</code>和<code>noRollbackFor</code>同时指定同一类型，Spring的行为会出现冲突和不确定性</p>
</blockquote>
<ul>
<li><b><code>timeout</code>超时时间</b>：当事务运行时间超过了指定的时间限制，事务将被强制回滚，并抛出一个 <strong>TransactionTimedOutException</strong> 异常。默认值为-1，表示永不超时<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240822140059.png" alt="" /></li>
<li><b><code>propagation</code>传播行为</b>：指的是当一个事务方法被另一个事务方法调用时，这个事务方法应该如何进行事务控制<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817210241.png" alt="" /></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">属性值</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>REQUIRED</code></td>
<td style="text-align:left">【默认值】需要事务，有则加入，无则创建新事务</td>
</tr>
<tr>
<td style="text-align:left"><code>REQUIRES_NEW</code></td>
<td style="text-align:left">需要新事务，无论有无，总是创建新事务</td>
</tr>
<tr>
<td style="text-align:left"><code>SUPPORTS</code></td>
<td style="text-align:left">支持事务，有则加入，无则在无事务状态中运行</td>
</tr>
<tr>
<td style="text-align:left"><code>NOT_SUPPORTED</code></td>
<td style="text-align:left">不支持事务，在无事务状态下运行，如果当前存在已有事务，则挂起当前事务</td>
</tr>
<tr>
<td style="text-align:left"><code>MANDATORY</code></td>
<td style="text-align:left">必须有事务，否则抛出异常</td>
</tr>
<tr>
<td style="text-align:left"><code>NEVER</code></td>
<td style="text-align:left">必须没有事务，否则抛出异常</td>
</tr>
</tbody>
</table>
<blockquote>
<ol>
<li><code>REQUIRED</code>：大部分情况下都是用该传播行为即可。</li>
<li><code>REQUIRES_NEW</code>：当我们不希望事务之间相互影响时，可以使用该传播行为。比如：下订单前需要记录日志，不论订单保存成功与否，都需要保证日志记录能够记录成功。</li>
</ol>
</blockquote>
<ul>
<li><b><code>isolation</code>隔离级别</b>：设置事务的隔离级别,mysql默认是repeatable read!</li>
</ul>
</li>
</ul>
<ol>
<li><strong>读未提交（Read Uncommitted）</strong>：事务可以读取未被提交的数据，容易产生脏读、不可重复读和幻读等问题。实现简单但不太安全，一般不用。</li>
<li><strong>读已提交（Read Committed）</strong>：事务只能读取已经提交的数据，可以避免脏读问题，但可能引发不可重复读和幻读。</li>
<li><strong>可重复读（Repeatable Read）</strong>：在一个事务中，相同的查询将返回相同的结果集，不管其他事务对数据做了什么修改。可以避免脏读和不可重复读，但仍有幻读的问题。</li>
<li><strong>串行化（Serializable）</strong>：最高的隔离级别，完全禁止了并发，只允许一个事务执行完毕之后才能执行另一个事务。可以避免以上所有问题，但效率较低，不适用于高并发场景。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240822141436.png" alt="" /></li>
</ol>
<blockquote>
<p><strong>开启spring事务管理日志</strong>：<br />
在配置文件中添加</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">org.springframework.jdbc.support.JdbcTransactionManager</span><span class="token punctuation">:</span> debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>注意事项</strong>：<br />
如果在非SpringBoot框架中想使用事务功能，需要在配置类添加<b><code>@EnableTransactionManagement</code></b>注解，并在pom.xml中添加引入spring-tx依赖。<br />
<b><code>@EnableTransactionManagement</code></b> 是Spring中的一个注解，用于启用Spring的注解驱动的事务管理功能。它通常与 <strong>@Configuration</strong> 注解一起使用，配置类中声明它表示希望在应用程序中使用基于注解的事务管理。</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- 声明式事务依赖--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-tx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>6.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="11aop"><a class="markdownIt-Anchor" href="#11aop"></a> 11.AOP</h2>
<h3 id="111-概述"><a class="markdownIt-Anchor" href="#111-概述"></a> 11.1 概述</h3>
<ul>
<li><strong>AOP</strong>：Aspect Oriented Programming（面向切面编程，面向方法编程），其实就是面对特定方法编程。</li>
<li><strong>场景</strong>：<br />
案例部分功能运行较慢，定位执行耗时较长的业务方法，此时需要统计每一个业务方法的执行耗时<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817212432.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817212504.png" alt="" />
<ul>
<li>记录操作日志</li>
<li>权限控制</li>
<li>事务管理</li>
</ul>
</li>
<li><strong>优势</strong>：
<ul>
<li>代码无侵入</li>
<li>减少重复代码</li>
<li>提高开发效率</li>
<li>维护方便</li>
</ul>
</li>
<li><strong>实现</strong>：<br />
动态代理是面向切面编程最主流的实现。而SpringAOP是Spring框架的高级技术，旨在管理Bean对象的过程中，主要通过底层的动态代理机制，对特定的方法进行编程。</li>
</ul>
<h3 id="112-快速入门"><a class="markdownIt-Anchor" href="#112-快速入门"></a> 11.2 快速入门</h3>
<p>统计各个业务层方法执行耗时</p>
<ul>
<li><strong>导入依赖</strong>：在pom.xml中添加AOP依赖<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><strong>编写AOP依赖</strong>：针对特定的方法根据业务需要进行编程<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TimeAspect</span> <span class="token punctuation">&#123;</span>
  <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">"execution(* com.lusy.service.impl.*.*(..))"</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">recordTime</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> result <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用原始方法运行</span>
    <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>pjp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"方法执行耗时：&#123;&#125;ms"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
如果不是在springboot框架中使用AOP，还需要在配置类中添加&lt;&gt;<code>@EnableAspectJAutoProxy</code>&lt;/  b&gt;注解开启AOP功能</p>
</blockquote>
<h3 id="113-aop核心概念"><a class="markdownIt-Anchor" href="#113-aop核心概念"></a> 11.3 AOP核心概念</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817220556.png" alt="" /></p>
<h3 id="114-通知类型"><a class="markdownIt-Anchor" href="#114-通知类型"></a> 11.4 通知类型</h3>
<ul>
<li><b><code>@Around</code></b>：环绕通知，此注解标注的通知方法在目标方法前、后都被执行</li>
<li><b><code>@Before</code></b>：前置通知，此注解标注的通知方法在目标方法前被执行</li>
<li><b><code>@After</code></b>：后置通知，此注解标注的通知方法在目标方法后被执行，无论是否有异常都会执行</li>
<li><b><code>@AfterReturning</code></b>：返回后通知，此注解标注的通知方法在目标方法正常返回后被执行，有异常不会执行</li>
<li><b><code>@AfterThrowing</code></b>：异常后通知，此注解标注的通知方法在目标方法抛出异常后被执行，正常返回不会执行</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li><b><code>@Around</code></b>环绕通知需要自己调用 <code>ProceedingJoinPoint.proceed()</code>方法来让原始方法执行，其它通知则不需要考虑目标方法执行</li>
<li><b><code>@Around</code></b>环绕通知的返回值，必须指定为Object类型，来接收原始方法的返回值</li>
<li><b><code>@AfterReturning</code></b>和<b><code>@AfterThrowing</code></b>通知，如果需要指定返回值来接收原始方法的返回值或异常对象，可以通过各自的属性值<b><code>returning</code></b>和<b><code>throwing</code></b>来指定接收返回值或异常对象的变量名。</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// @AfterReturning注解标记返回通知方法</span>
<span class="token comment">// 在返回通知中获取目标方法返回值分两步：</span>
<span class="token comment">// 第一步：在@AfterReturning注解中通过returning属性设置一个名称</span>
<span class="token comment">// 第二步：使用returning属性设置的名称在通知方法中声明一个对应的形参</span>
<span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>
       value <span class="token operator">=</span> <span class="token string">"execution(public int com.atguigu.aop.api.Calculator.add(int,int))"</span><span class="token punctuation">,</span>
       returning <span class="token operator">=</span> <span class="token string">"targetMethodReturnValue"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printLogAfterCoreSuccess</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">,</span> <span class="token class-name">Object</span> targetMethodReturnValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   
   <span class="token class-name">String</span> methodName <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[AOP返回通知] "</span><span class="token operator">+</span>methodName<span class="token operator">+</span><span class="token string">"方法成功结束了，返回值是："</span> <span class="token operator">+</span> targetMethodReturnValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// @AfterThrowing注解标记异常通知方法</span>
<span class="token comment">// 在异常通知中获取目标方法抛出的异常分两步：</span>
<span class="token comment">// 第一步：在@AfterThrowing注解中声明一个throwing属性设定形参名称</span>
<span class="token comment">// 第二步：使用throwing属性指定的名称在通知方法声明形参，Spring会将目标方法抛出的异常对象从这里传给我们</span>
<span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>
        value <span class="token operator">=</span> <span class="token string">"execution(public int com.atguigu.aop.api.Calculator.add(int,int))"</span><span class="token punctuation">,</span>
        throwing <span class="token operator">=</span> <span class="token string">"targetMethodException"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printLogAfterCoreException</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> targetMethodException<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    
    <span class="token class-name">String</span> methodName <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"[AOP异常通知] "</span><span class="token operator">+</span>methodName<span class="token operator">+</span><span class="token string">"方法抛异常了，异常类型是："</span> <span class="token operator">+</span> targetMethodException<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getName <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="115-pointcut注解"><a class="markdownIt-Anchor" href="#115-pointcut注解"></a> 11.5 @Pointcut注解</h3>
<p>该注解的作用是将公共的切点表达式抽取出来，需要用到时引用该切点表达式即可。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817221648.png" alt="" /></p>
<h3 id="116-通知顺序"><a class="markdownIt-Anchor" href="#116-通知顺序"></a> 11.6 通知顺序</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817230133.png" alt="" /></p>
<h3 id="117-切入表达式"><a class="markdownIt-Anchor" href="#117-切入表达式"></a> 11.7 切入表达式</h3>
<ul>
<li><strong>概念</strong>：描述切入点方法的一种表达式</li>
<li><strong>作用</strong>：主要用来决定项目中的哪些方法需要加入通知</li>
<li><strong>常见形式</strong>：
<ul>
<li><b><code>execution(……)</code></b>：根据方法的签名来匹配</li>
<li><b><code>annotation(……)</code></b>：根据注解匹配<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817230513.png" alt="" /></li>
</ul>
</li>
</ul>
<h4 id="1171-execution"><a class="markdownIt-Anchor" href="#1171-execution"></a> 11.7.1 execution</h4>
<p>execution 主要根据方法的返回值、包名、类名、方法名、方法参数等信息来匹配，语法为：<br />
<b><code>execution([访问修饰符] 返回值 [包名.类名.]方法名(方法参数) [throws 异常])</code></b></p>
<ul>
<li>其中方法参数填写的是<font color="red"><strong>参数类型的全类名</strong></font></li>
<li>其中可省略的部分：
<ul>
<li><strong>访问修饰符</strong>：可以省略，表示任意访问修饰符（比如：public、protected）</li>
<li><strong>包名.类名</strong>：可以省略，表示任意包名、类名</li>
<li><strong>throws 异常</strong>：可以省略，表示任意异常（注意是方法上声明抛出的异常，不是实际抛出的异常）</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">"execution(public void com.itheima.service.impl.DeptServiceImpl.delete(java.lang.Integer))"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 方法体</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>可以使用通配符描述切入点
<ul>
<li><b><code>*</code></b>：单个独立的任意符号，可以通配任意返回值、包名、类名、方法名、任意类型的一个参数，也可以通配包、类、方法名的一部分</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>*<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>*<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li><b><code>..</code></b>：多个独立的任意符号，可以通配任意层级的包，或任意类型、任意个数的参数,在通配包时，不能作为开头。如果要指定全部包，可以用<b><code>*..</code></b></li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>itheima<span class="token punctuation">.</span><span class="token punctuation">.</span>DeptService<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token punctuation">.</span>*<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>example<span class="token punctuation">.</span>service<span class="token punctuation">.</span><span class="token punctuation">.</span>*<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 错误的</span>
<span class="token comment">// 查询全部包下，无参数的方法</span>
<span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token punctuation">.</span>*<span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//第三个 *：匹配类名中的最后一级，防止出现连续的 ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
根据业务需要，可以使用 且(&amp;&amp;) 、或(||)、非(!)来组合比较复杂的切入点表达式。</p>
</blockquote>
<ul>
<li>书写建议
<ul>
<li>所有业务<strong>方法名</strong>在<strong>命名</strong>时尽量<strong>规范</strong>，方便切入点表达式快速匹配。如：查询类方法都是find开头，更新类方法都是update开头</li>
<li>描述切入点方法通常<strong>基于接口描述</strong>，而不是直接描述实现类，<strong>增强拓展性</strong></li>
<li>在满足业务需要的前提下，<strong>尽量缩小切入点的匹配范围</strong>。如：包名匹配尽量不使用… ，使用 * 匹配单个包。</li>
</ul>
</li>
</ul>
<h4 id="1172-annotation"><a class="markdownIt-Anchor" href="#1172-annotation"></a> 11.7.2 annotation</h4>
<p><code>@annotation</code>注解的切点表达式用于匹配被指定注解标记的方法。例如，如果你有一个自定义注解<code>@MyLog</code>，你可以使用<code>@annotation</code>来指定所有带有<code>@MyLog</code>注解的方法作为切点。</p>
<ul>
<li><strong>示例</strong>：<br />
假设你有一个自定义注解<code>@MyLog</code>：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyLog</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
你希望在所有标记了<code>@MyLog</code>的地方记录方法执行时间，可以定义一个切面如下：<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoggingAspect</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">"@annotation(com.example.MyLog)"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">logExecutionTime</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 在方法执行前记录开始时间</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Method "</span> <span class="token operator">+</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" is about to execute"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">"@annotation(com.example.MyLog)"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterExecution</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 在方法执行后记录结束时间</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Method "</span> <span class="token operator">+</span> joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" has executed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
使用<code>@MyLog</code>注解:<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyService</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@MyLog</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">performTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 业务逻辑</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Task is being performed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="118-连接点"><a class="markdownIt-Anchor" href="#118-连接点"></a> 11.8 连接点</h3>
<ul>
<li>在Spring中用<font color="red">JoinPoint</font>抽象了连接点，用它可以获取方法执行时的相关信息，如目标类名，方法名，方法参数等。
<ul>
<li>对于<b><code>@Around</code></b>通知，获取连接点信息只能使用 <b><code>ProceedingJoinPoint</code></b><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817233214.png" alt="" /></li>
<li>对于其它四种通知，获取连接点信息只能使用 <b><code>JoinPoint</code></b>，它是<b><code>ProceedingJoinPoint</code></b>的父类<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240817233227.png" alt="" /></li>
</ul>
</li>
</ul>
<h2 id="12配置"><a class="markdownIt-Anchor" href="#12配置"></a> 12.配置</h2>
<ul>
<li>SpringBoot除了支持配置文件属性配置，还支持<strong>Java系统属性</strong>和<strong>命令行参数</strong>的方式进行属性配置。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818184556.png" alt="" /></li>
<li><strong>优先级(高 -&gt; 低)</strong>
<ul>
<li>命令行参数 (–xxx=xx)</li>
<li>java系统属性（-Dxxx=xxx）</li>
<li>application.properties</li>
<li>application.yml</li>
<li>application.yml（忽略）</li>
</ul>
</li>
</ul>
<h2 id="13bean的管理"><a class="markdownIt-Anchor" href="#13bean的管理"></a> 13.Bean的管理</h2>
<h3 id="131-获取bean"><a class="markdownIt-Anchor" href="#131-获取bean"></a> 13.1 获取Bean</h3>
<ul>
<li>默认情况下，Spring项目启动时，会把Bean都创建好放在IOC容器中，如果想要主动获取这些Bean，可以通过如下方式：
<ul>
<li><strong>根据name获取Bean</strong>：<code>Object getBean(String name)</code></li>
<li><strong>根据类型获取Bean</strong>：<code>&lt;T&gt; T getBean(Class&lt;T&gt; requireType)</code></li>
<li><strong>根据name获取Bean（带类型转换）</strong>：<code>&lt;T&gt; T getBean(String name, Class&lt;T&gt; requireType)</code></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：<br />
上述所说的【Spring项目启动时，会把其中的Bean都创建好】还会受到作用域及延迟初始化影响，这里主要针对于默认的单例非延迟加载的Bean而言。</p>
</blockquote>
<h3 id="132-bean作用域"><a class="markdownIt-Anchor" href="#132-bean作用域"></a> 13.2 Bean作用域</h3>
<ul>
<li>Spring支持五种作用域，后三种在web环境下才生效：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818190143.png" alt="" /></li>
<li>可以通过<b><code>@Scope</code></b>注解来进行配置作用域<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">"prototype"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/depts"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptController</span><span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li>默认<strong>singleton</strong>的bean，在容器启动时被创建，可以使用<b><code>@Lazy</code></b>注解来延迟初始化（延迟到第一次使用时）</li>
<li>prototype的bean，每一次使用该bean的时候都会创建一个新的实例</li>
<li>实际开发当中，绝大部分的Bean是单例的，也就是说大部分Bean不需要配置<strong>Scope</strong>属性</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="133-第三方bean"><a class="markdownIt-Anchor" href="#133-第三方bean"></a> 13.3 第三方Bean</h3>
<ul>
<li><b><code>@Bean</code></b>
<ul>
<li>如果要管理的Bean对象来自第三方（不是自定义的），是无法用<b><code>Component</code></b>及衍生注解声明Bean的，就需要用到<b><code>@Bean</code></b>注解。</li>
<li>若要管理的第三方Bean对象，建议对这些Bean进行分类配置，可以通过 <b><code>@Configuration</code></b>注解来声明一个配置类。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818191744.png" alt="" /></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>注意事项</strong>：</p>
<ul>
<li><strong>@Bean</strong>修饰的方法将当前方法的返回值对象交给IOC容器管理，成为IOC容器的Bean</li>
<li>通过<b>@Bean</b>注解的name或value属性可以声明Bean的名称，如果不指定，默认Bean的名称就是方法名。</li>
<li>周期方法指定：
<ul>
<li>原有注解方案：@PostConstruct、@PreDestroy 注解指定</li>
<li>bean属性指定：initMethod、destroyMethod 指定</li>
</ul>
</li>
<li>如果第三方Bean需要依赖其它Bean对象，直接在@Bean定义的方法中设置形参即可，容器会根据类型自动装配。如果有多个类型匹配，可以使用形参名等同于对应的Beanid标识即可。</li>
</ul>
</blockquote>
<blockquote>
<p><strong>@Component及衍生注解与@Bean注解使用场景？</strong></p>
<ul>
<li>项目中自定义的，使用@Component及其衍生注解</li>
<li>项目中引入第三方的，使用@Bean注解</li>
</ul>
</blockquote>
<h2 id="14自动配置原理"><a class="markdownIt-Anchor" href="#14自动配置原理"></a> 14.自动配置原理</h2>
<h3 id="141-componentscan-组件扫描"><a class="markdownIt-Anchor" href="#141-componentscan-组件扫描"></a> 14.1 @ComponentScan 组件扫描</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818193043.png" alt="" /></p>
<h3 id="142-import导入"><a class="markdownIt-Anchor" href="#142-import导入"></a> 14.2 @Import导入</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818193058.png" alt="" /></p>
<h3 id="143-源码跟踪"><a class="markdownIt-Anchor" href="#143-源码跟踪"></a> 14.3 源码跟踪</h3>
<ul>
<li>
<p><strong>@SpringBootApplication</strong><br />
该注解标识在SpringBoot工程引导类上，是SpringBoot中<strong>最重要</strong>的注解。该注解由三个部分组成：</p>
<ul>
<li><strong><code>@SpringBootConfiguration</code></strong>：该注解与<code>@Configuration</code>注解作用相同，用来声明当前也是一个配置类。</li>
<li><strong><code>@ComponentScan</code></strong>：组件扫描，默认扫描当前引导类所在包及其子包。</li>
<li><strong><code>@EnableAutoConfiguration</code></strong>：SpringBoot实现自动化配置的核心注解。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818194105.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818194131.png" alt="" /></li>
</ul>
</li>
<li>
<p><strong>@Conditional</strong></p>
<ul>
<li><strong>作用</strong>：按照一定的条件进行判断，在满足给定条件后才会注册对应的Bean对象到Spring IOC容器中。</li>
<li><strong>位置</strong>：方法、类</li>
<li><strong>@Conditional本身是一个父注解，派生出大量的子注解</strong>：
<ul>
<li><strong><code>@ConditionalOnClass</code></strong>：判断环境中是否有对应字节码文件，才注册Bean到IOC容器</li>
<li><strong><code>@ConditionalOnMissingBean</code></strong>：判断环境中没有对应的Bean（类型或名称），才注册Bean到IOC容器</li>
<li><strong><code>@ConditionalOnProperty</code></strong>：判断配置文件中有对应属性和值，才注册Bean到IOC容器</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span>
<span class="token keyword">public</span> <span class="token class-name">Gson</span> <span class="token function">gson</span><span class="token punctuation">(</span><span class="token class-name">GsonBuilder</span> gsonBuilder<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> gsonBuilder<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195303.png" alt="" /></p>
<h3 id="144-自定义starter"><a class="markdownIt-Anchor" href="#144-自定义starter"></a> 14.4 自定义starter</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195426.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818195502.png" alt="" /></p>
<h2 id="15maven高级"><a class="markdownIt-Anchor" href="#15maven高级"></a> 15.Maven高级</h2>
<h3 id="151-分模块设计"><a class="markdownIt-Anchor" href="#151-分模块设计"></a> 15.1 分模块设计</h3>
<ol>
<li><strong>什么是分模块设计？</strong></li>
</ol>
<ul>
<li>将项目按照功能拆分成若干个子模块</li>
</ul>
<ol start="2">
<li><strong>为什么要分模块设计？</strong></li>
</ol>
<ul>
<li>方便项目的管理维护、拓展、也方便模块间的相互调用，资源共享</li>
</ul>
<ol start="3">
<li><strong>注意事项</strong></li>
</ol>
<ul>
<li>分模块设计需要先针对模块功能进行设计，再进行编码。不会先将工程开发完毕，然后进行拆分</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818200210.png" alt="" /></p>
<h3 id="152-继承"><a class="markdownIt-Anchor" href="#152-继承"></a> 15.2 继承</h3>
<ul>
<li><strong>概念</strong>：继承描述的是两个工程间的关系，与java中的继承相似，子工程可以继承父工程中的配置信息，常见于依赖关系的继承</li>
<li><strong>作用</strong>：简化依赖配置、统一管理依赖</li>
<li><strong>实现</strong>：<b><code>&lt;parent&gt;……&lt;/parent&gt;</code></b></li>
<li><strong>具体步骤</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818200958.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201045.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201101.png" alt="" /></li>
<li><strong>总结</strong>：<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818201356.png" alt="" /></li>
</ul>
<blockquote>
<p><strong>打包方式</strong>：</p>
<ul>
<li><strong>jar</strong>：普通模块打包，springboot项目基本都是jar包（内嵌tomcat运行）</li>
<li><strong>war</strong>：普通web程序打包，需要部署在外部的tomcat服务器中运行</li>
<li><strong>pom</strong>：父工程或聚合工程，该模块不写代码，仅进行依赖管理</li>
</ul>
</blockquote>
<h3 id="153-版本锁定"><a class="markdownIt-Anchor" href="#153-版本锁定"></a> 15.3 版本锁定</h3>
<ul>
<li>在maven中，可以在父工程的pom文件中通过<b><code>&lt;dependencyManagement&gt;</code></b>来统一管理依赖版本。</li>
<li><b><code>&lt;dependencyManagement&gt;</code></b> 是用来管理依赖版本的，它用于声明依赖的版本，但这些依赖不会自动导入到项目中，还需要再<b>&lt;dependencies&gt;</b>中引入。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818202248.png" alt="" /></li>
</ul>
<blockquote><p><strong>注意事项</strong>：</p>
<ul>
<li>子工程引入依赖时，无需指定 <b>&lt;version&gt;</b>版本号，父工程统一管理。变更依赖版本，只需在父工程中统一变更。</li>
</ul>
<p><b>&lt;dependencyManagement&gt;与&lt;dependencies&gt;的区别</b>：</p>
<ul>
<li><b>&lt;dependencies&gt;</b>是直接依赖，在父工程配置了依赖，子工程会直接继承下来。</li>
<li><b>&lt;dependencyManagement&gt;</b>是统一管理依赖版本，不会直接依赖，还需要在子工程中引入所需依赖(无需指定版本)</li>
</ul>
</blockquote>
<ul>
<li>也可以通过<b><code>&lt;properties&gt;</code></b>自定义/引用属性。<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818202711.png" alt="" /></li>
</ul>
<h3 id="154-聚合"><a class="markdownIt-Anchor" href="#154-聚合"></a> 15.4 聚合</h3>
<ul>
<li><strong>概念</strong>：将多个模块组织成一个整体，同时进行项目的构建。</li>
<li><strong>聚合工程</strong>：一个不具有业务功能的&quot;空&quot;工程（有且仅有一个pom文件）</li>
<li><strong>作用</strong>：快速构建项目（无需根据依赖关系手动构建，直接在聚合工程上构建即可）<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818204310.png" alt="" /></li>
<li><strong>实例</strong>：聚合使得在父项目中执行 <code>mvn install</code> 等命令时，所有子模块都会被一起构建。</li>
</ul>
<blockquote><p><strong>继承与聚合</strong>：</p>
<ul>
<li><strong>作用</strong>
<ul>
<li>聚合用于快速构建项目</li>
<li>继承用于简化依赖配置、统一管理依赖</li>
</ul>
</li>
<li><strong>相同点</strong>：
<ul>
<li>聚合与继承的pom.xml文件打包方式均为pom，可以将两种关系制作到同一个pom文件中</li>
<li>聚合与继承均属于设计型模块，并无实际的模块内容</li>
</ul>
</li>
<li><strong>不同点</strong>：
<ul>
<li>聚合是在聚合工程中配置关系，聚合可以感知到参与聚合的模块有哪些</li>
<li>继承是在子模块中配置关系，父模块无法感知哪些子模块继承了自己</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="155-私服"><a class="markdownIt-Anchor" href="#155-私服"></a> 15.5 私服</h3>
<ul>
<li><strong>概念</strong>: 私服是一种特殊的远程仓库，它是架设在局域网内的仓库服务，用来代理位于外部的中央仓库，用于解决团队内部的资源共享与资源同步问题<br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210544.png" alt="" /></li>
<li><strong>资源上传与下载</strong><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210623.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210637.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210646.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210705.png" alt="" /><br />
<img src="https://cdn.jsdelivr.net/gh/lusy37/Pictures@master/20240818210714.png" alt="" /></li>
</ul>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Lu</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://lusy37.github.io/2024/08/08/javaweb/">https://lusy37.github.io/2024/08/08/javaweb/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Lu</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">
                                    <span class="chip bg-color">学习总结</span>
                                </a>
                            
                                <a href="/tags/JavaWeb/">
                                    <span class="chip bg-color">JavaWeb</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2024/08/08/javaweb/">
                    <div class="card-image">
                        
                        <img src="/medias/cover/18.jpg" class="responsive-img" alt="JavaWeb">
                        
                        <span class="card-title">JavaWeb</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            JavaWeb
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-08-08
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Lu
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">
                        <span class="chip bg-color">学习总结</span>
                    </a>
                    
                    <a href="/tags/JavaWeb/">
                        <span class="chip bg-color">JavaWeb</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2024/08/05/mysql-ji-chu/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="MySQL基础">
                        
                        <span class="card-title">MySQL基础</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-08-05
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            Lu
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Lusy<br />'
            + '文章作者: Lu<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: rgb(233, 240, 248);">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    
    

</main>



<script src="/libs/prism/prism.js" defer></script>
<script src="https://cdn.bootcdn.net/ajax/libs/prism/1.9.0/plugins/line-numbers/prism-line-numbers.js" defer></script>


    
<footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            By: <a href="/about" target="_blank">Lu</a>
            <br>
            Copyright&nbsp;&copy;
            
                <span id="year">2024</span>
            
            <a href="/about" target="_blank">Lu</a>
            
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">134.6k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv" >
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color" ></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv" >
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color" ></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            <!--
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2024";
                        var startMonth = "2";
                        var startDate = "10";
                        var startHour = "0";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);
                        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
                        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '小破站已勉强运行 ' + diffDays + ' 天' + diffHours + ' 小时' + diffMinutes + ' 分钟' + diffSeconds + ' 秒';
                            } else if (language === 'zh-HK') {
                                daysTip = '小破站已勉强運行 ' + diffDays + ' 天' + diffHours + ' 小时' + diffMinutes + ' 分钟' + diffSeconds + ' 秒';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '小破站已勉强运行 ' + diffYears + ' 年 ' + diffDays + ' 天' + diffHours + ' 小时' + diffMinutes + ' 分钟' + diffSeconds + ' 秒';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '小破站已勉强運行 ' + diffYears + ' 年 ' + diffDays + ' 天' + diffHours + ' 小时' + diffMinutes + ' 分钟' + diffSeconds + ' 秒';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }

                    calcSiteTime();
                </script>
            -->
            <span id="sitetime"></span>
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/lusy37" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:luziqiang333@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1056985080" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1056985080" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
    
</footer>

<div class="progress-bar"></div>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2024, 02, 10, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "小破站已运行 " + diffYears +" 年 "+ diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/star.js"><\/script>');
            }
        </script>
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

<script type="text/javascript">
    //只在桌面版网页启用特效
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>');
    }
</script>
   
<!--点击单词特效-->>
<script type="text/javascript">
    var a_idx = 0;
jQuery(document).ready(function ($) {
    $("body").click(function (e) {
        var a = new Array("Wisdom", "Hope", "Love", "Peace", "Sakura", "Joy", "Harmony", "Serenity", "Diligent", "Faded", "Pure", "Angel");
        var $i = $("<span/>").text(a[a_idx]);
        a_idx = (a_idx + 1) % a.length;
        var x = e.pageX,
            y = e.pageY;
        $i.css({
            "font-size": "14px", // 设置字体大小为20像素
            "z-index": 5,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": "#FF870C"
        });
        $("body").append($i);
        $i.animate({
                "top": y - 180,
                "opacity": 0
            },
            3000,
            function () {
                $i.remove();
            });
    });
    setTimeout('delay()', 2000);
});

function delay() {
    $(".buryit").removeAttr("onclick");
}

</script>

<script type="text/javascript">
    var OriginTitile=document.title,st;
	document.addEventListener("visibilitychange",function(){
        document.hidden?(document.title="ヽ(●-`Д´-)ノ你要玩捉迷藏嘛",clearTimeout(st)):(document.title="(Ő∀Ő3)ノ好哦！",st=setTimeout(function(){document.title=OriginTitile},3e3))
    })
</script>


</html>
